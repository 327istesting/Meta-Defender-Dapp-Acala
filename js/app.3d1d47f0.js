(function(){var e={6700:function(e,t,n){var a={"./af":3906,"./af.js":3906,"./ar":902,"./ar-dz":3853,"./ar-dz.js":3853,"./ar-kw":299,"./ar-kw.js":299,"./ar-ly":6825,"./ar-ly.js":6825,"./ar-ma":6379,"./ar-ma.js":6379,"./ar-sa":7700,"./ar-sa.js":7700,"./ar-tn":2059,"./ar-tn.js":2059,"./ar.js":902,"./az":6043,"./az.js":6043,"./be":7936,"./be.js":7936,"./bg":4078,"./bg.js":4078,"./bm":4014,"./bm.js":4014,"./bn":9554,"./bn-bd":7114,"./bn-bd.js":7114,"./bn.js":9554,"./bo":6529,"./bo.js":6529,"./br":5437,"./br.js":5437,"./bs":9647,"./bs.js":9647,"./ca":9951,"./ca.js":9951,"./cs":6113,"./cs.js":6113,"./cv":7965,"./cv.js":7965,"./cy":5858,"./cy.js":5858,"./da":3515,"./da.js":3515,"./de":2831,"./de-at":6263,"./de-at.js":6263,"./de-ch":1127,"./de-ch.js":1127,"./de.js":2831,"./dv":4510,"./dv.js":4510,"./el":8616,"./el.js":8616,"./en-au":4595,"./en-au.js":4595,"./en-ca":3545,"./en-ca.js":3545,"./en-gb":9609,"./en-gb.js":9609,"./en-ie":3727,"./en-ie.js":3727,"./en-il":3302,"./en-il.js":3302,"./en-in":6305,"./en-in.js":6305,"./en-nz":9128,"./en-nz.js":9128,"./en-sg":4569,"./en-sg.js":4569,"./eo":650,"./eo.js":650,"./es":6358,"./es-do":4214,"./es-do.js":4214,"./es-mx":8639,"./es-mx.js":8639,"./es-us":232,"./es-us.js":232,"./es.js":6358,"./et":7279,"./et.js":7279,"./eu":5515,"./eu.js":5515,"./fa":7981,"./fa.js":7981,"./fi":7090,"./fi.js":7090,"./fil":9208,"./fil.js":9208,"./fo":2799,"./fo.js":2799,"./fr":3463,"./fr-ca":2213,"./fr-ca.js":2213,"./fr-ch":2848,"./fr-ch.js":2848,"./fr.js":3463,"./fy":1468,"./fy.js":1468,"./ga":8163,"./ga.js":8163,"./gd":2898,"./gd.js":2898,"./gl":6312,"./gl.js":6312,"./gom-deva":682,"./gom-deva.js":682,"./gom-latn":9178,"./gom-latn.js":9178,"./gu":5009,"./gu.js":5009,"./he":2795,"./he.js":2795,"./hi":7009,"./hi.js":7009,"./hr":6506,"./hr.js":6506,"./hu":9565,"./hu.js":9565,"./hy-am":3864,"./hy-am.js":3864,"./id":5626,"./id.js":5626,"./is":6649,"./is.js":6649,"./it":151,"./it-ch":5348,"./it-ch.js":5348,"./it.js":151,"./ja":9830,"./ja.js":9830,"./jv":3751,"./jv.js":3751,"./ka":3365,"./ka.js":3365,"./kk":5980,"./kk.js":5980,"./km":9571,"./km.js":9571,"./kn":5880,"./kn.js":5880,"./ko":6809,"./ko.js":6809,"./ku":6773,"./ku.js":6773,"./ky":5505,"./ky.js":5505,"./lb":553,"./lb.js":553,"./lo":1237,"./lo.js":1237,"./lt":1563,"./lt.js":1563,"./lv":1057,"./lv.js":1057,"./me":6495,"./me.js":6495,"./mi":3096,"./mi.js":3096,"./mk":3874,"./mk.js":3874,"./ml":6055,"./ml.js":6055,"./mn":7747,"./mn.js":7747,"./mr":7113,"./mr.js":7113,"./ms":8687,"./ms-my":7948,"./ms-my.js":7948,"./ms.js":8687,"./mt":4532,"./mt.js":4532,"./my":4655,"./my.js":4655,"./nb":6961,"./nb.js":6961,"./ne":2512,"./ne.js":2512,"./nl":8448,"./nl-be":2936,"./nl-be.js":2936,"./nl.js":8448,"./nn":9031,"./nn.js":9031,"./oc-lnc":5174,"./oc-lnc.js":5174,"./pa-in":118,"./pa-in.js":118,"./pl":3448,"./pl.js":3448,"./pt":3518,"./pt-br":2447,"./pt-br.js":2447,"./pt.js":3518,"./ro":817,"./ro.js":817,"./ru":262,"./ru.js":262,"./sd":8990,"./sd.js":8990,"./se":3842,"./se.js":3842,"./si":7711,"./si.js":7711,"./sk":756,"./sk.js":756,"./sl":3772,"./sl.js":3772,"./sq":6187,"./sq.js":6187,"./sr":732,"./sr-cyrl":5713,"./sr-cyrl.js":5713,"./sr.js":732,"./ss":9455,"./ss.js":9455,"./sv":9770,"./sv.js":9770,"./sw":959,"./sw.js":959,"./ta":6459,"./ta.js":6459,"./te":5302,"./te.js":5302,"./tet":7975,"./tet.js":7975,"./tg":1294,"./tg.js":1294,"./th":2385,"./th.js":2385,"./tk":4613,"./tk.js":4613,"./tl-ph":8668,"./tl-ph.js":8668,"./tlh":8190,"./tlh.js":8190,"./tr":4506,"./tr.js":4506,"./tzl":3440,"./tzl.js":3440,"./tzm":9852,"./tzm-latn":2350,"./tzm-latn.js":2350,"./tzm.js":9852,"./ug-cn":730,"./ug-cn.js":730,"./uk":99,"./uk.js":99,"./ur":2100,"./ur.js":2100,"./uz":6002,"./uz-latn":6322,"./uz-latn.js":6322,"./uz.js":6002,"./vi":4207,"./vi.js":4207,"./x-pseudo":4674,"./x-pseudo.js":4674,"./yo":570,"./yo.js":570,"./zh-cn":3644,"./zh-cn.js":3644,"./zh-hk":2591,"./zh-hk.js":2591,"./zh-mo":9503,"./zh-mo.js":9503,"./zh-tw":4803,"./zh-tw.js":4803};function i(e){var t=s(e);return n(t)}function s(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=s,e.exports=i,i.id=6700},7040:function(e,t,n){"use strict";n(3255);var a=n(5431),i=n(9242),s=n(3396),o=n(7139),r=n.p+"img/logo.c66b1671.png",l=n.p+"img/home-1.1029fad8.svg",d=n.p+"img/safe-1.011630ec.svg",c=n.p+"img/safe-1-3.74ce257c.svg",p=n.p+"img/Mining_2.4b45486a.svg",u=n.p+"img/github-icon.224d463b.svg",y=n.p+"img/discord-icon.b022fa5a.svg",m=n.p+"img/Twitter-icon.55290abc.svg",h=n.p+"img/Medium-icon.55369f46.svg";const f={class:"top-bar"},g={class:"top-wrapper"},v=(0,s._)("div",{class:"logo"},[(0,s._)("div",{class:"logo-container"},[(0,s._)("img",{src:r,alt:"",class:"logo-pic"})])],-1),w={class:"right-menu"},b={class:"menu-icon"},_=(0,s._)("div",{class:"menu-icon-line"},[(0,s._)("div",{class:"menu-icon-line-solid"})],-1),T=[_],C=(0,s._)("div",{class:"menu-icon-line"},[(0,s._)("div",{class:"menu-icon-line-solid"})],-1),A=[C],P=(0,s._)("div",{class:"menu-icon-line"},[(0,s._)("div",{class:"menu-icon-line-solid"})],-1),k=[P],I={class:"wide-screen-wallet"},D={class:"content-container"},S={class:"nav-left-content"},x={class:"nav-under-logo"},M=(0,s._)("div",{class:"insertup"},[(0,s._)("div",{class:"insert-inner-up"})],-1),E=(0,s._)("div",{class:"nav-under-logo-item"},[(0,s._)("img",{src:l,alt:""}),(0,s._)("div",null,"Dashboard")],-1),N=(0,s._)("div",{class:"insertdown"},[(0,s._)("div",{class:"insert-inner-down"})],-1),L=(0,s._)("div",{class:"insertup"},[(0,s._)("div",{class:"insert-inner-up"})],-1),U=(0,s._)("div",{class:"nav-under-logo-item"},[(0,s._)("img",{src:d,alt:""}),(0,s._)("div",null,"Option Trading")],-1),j=[U],O=(0,s._)("div",{class:"insertdown"},[(0,s._)("div",{class:"insert-inner-down"})],-1),F=(0,s._)("div",{class:"insertup"},[(0,s._)("div",{class:"insert-inner-up"})],-1),z=(0,s._)("div",{class:"nav-under-logo-item"},[(0,s._)("img",{src:c,alt:""}),(0,s._)("div",null,"NFTs")],-1),W=(0,s._)("div",{class:"insertdown"},[(0,s._)("div",{class:"insert-inner-down"})],-1),q=(0,s._)("div",{class:"insertup"},[(0,s._)("div",{class:"insert-inner-up"})],-1),B=(0,s._)("div",{class:"nav-under-logo-item"},[(0,s._)("img",{src:p,alt:""}),(0,s._)("div",null,"Stake")],-1),V=(0,s._)("div",{class:"insertdown"},[(0,s._)("div",{class:"insert-inner-down"})],-1),R=(0,s.uE)('<div class="follow">Follow us on:</div><div class="social-medias-list"><a href="https://github.com/Meta-Defender" target="_blank"><img src="'+u+'" alt=""></a><a href="https://discord.com/invite/72UsBn5Jfz" target="_blank"><img src="'+y+'" alt=""></a><a href="https://twitter.com/MetaDefender" target="_blank"><img src="'+m+'" alt=""></a><a href="https://medium.com/@MetaDefender" target="_blank"><img src="'+h+'" alt=""></a></div>',2),Z={class:"content"},H=(0,s._)("div",{class:"footer"},"Copyright Â© 2022 Meta Defender",-1);function Y(e,t,n,a,i,r){const l=(0,s.up)("router-link"),d=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",f,[(0,s._)("div",g,[v,(0,s._)("div",w,[(0,s._)("div",{class:(0,o.C_)(i.menuIconBox),onClick:t[0]||(t[0]=e=>r.showNavOrNot())},[(0,s._)("ul",b,[(0,s._)("li",{class:(0,o.C_)(i.menuIconLi1)},T,2),(0,s._)("li",{class:(0,o.C_)(i.menuIconLi2)},A,2),(0,s._)("li",{class:(0,o.C_)(i.menuIconLi3)},k,2)])],2),(0,s._)("ul",{class:(0,o.C_)(i.navClass)},[(0,s._)("li",null,[(0,s.Wm)(l,{to:"/dashboard"},{default:(0,s.w5)((()=>[(0,s.Uk)("Dashboard")])),_:1})]),(0,s._)("li",null,[(0,s.Wm)(l,{to:"/protection"},{default:(0,s.w5)((()=>[(0,s._)("span",{onClick:t[1]||(t[1]=e=>r.protectionShow())},"Option Trading")])),_:1})]),(0,s._)("li",null,[(0,s.Wm)(l,{to:"/nftPortfolio"},{default:(0,s.w5)((()=>[(0,s.Uk)("MD Nfts")])),_:1})]),(0,s._)("li",null,[(0,s.Wm)(l,{to:"/mining"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Mining ")])),_:1})]),(0,s._)("li",null,["Connect Wallet"!==r.getCurrentAddress&&595===r.getNetwork?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"wallet-initial",onClick:t[2]||(t[2]=e=>r.mintFaucet())}," Faucet ")):(0,s.kq)("",!0)]),(0,s._)("li",null,["Connect Wallet"!==r.getCurrentAddress?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,o.C_)(["wallet-initial",595!==r.getNetwork?"wrong-button":""]),onClick:t[3]||(t[3]=e=>r.chainClick())},(0,o.zw)(595!==r.getNetwork?"Wrong Network":"Mandala Testnet"),3)):(0,s.kq)("",!0)]),(0,s._)("li",null,[(0,s._)("div",{class:(0,o.C_)(i.walletClass),onClick:t[4]||(t[4]=e=>r.connectWallet())},(0,o.zw)(r.getCurrentAddress),3)])],2)]),(0,s._)("div",I,["Connect Wallet"!==r.getCurrentAddress&&595===r.getNetwork?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"address-button",onClick:t[5]||(t[5]=e=>r.mintFaucet())}," Faucet ")):(0,s.kq)("",!0),(0,s._)("div",{class:(0,o.C_)(["chainID-button",595!==r.getNetwork?"wrong-button":""]),onClick:t[6]||(t[6]=e=>r.chainClick())},(0,o.zw)(595!==r.getNetwork?"Wrong Network":"Mandala Testnet"),3),(0,s._)("div",{class:"address-button",onClick:t[7]||(t[7]=e=>r.connectWallet())},(0,o.zw)(r.getCurrentAddress),1)])])]),(0,s._)("div",D,[(0,s._)("div",S,[(0,s._)("ul",x,[(0,s._)("li",null,[(0,s.Wm)(l,{to:"/dashboard"},{default:(0,s.w5)((()=>[M,E,N])),_:1})]),(0,s._)("li",null,[(0,s.Wm)(l,{to:"/protection"},{default:(0,s.w5)((()=>[L,(0,s._)("span",{onClick:t[8]||(t[8]=e=>r.protectionShow())},j),O])),_:1})]),(0,s._)("li",null,[(0,s.Wm)(l,{to:"/nftPortfolio"},{default:(0,s.w5)((()=>[F,z,W])),_:1})]),(0,s._)("li",null,[(0,s.Wm)(l,{to:"/mining"},{default:(0,s.w5)((()=>[q,B,V])),_:1})])]),R]),(0,s._)("div",Z,[(0,s.Wm)(d)]),H])],64)}var G=n(65),K=n(520),J=n(2714),X=n(1658),$=n(6482),Q=n(1097);let ee=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"CertificateExit",type:"error"},{inputs:[],name:"CertificateNotExit",type:"error"},{inputs:[],name:"CertificateNotSignalWithdraw",type:"error"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"ClaimNotUnderProcessing",type:"error"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"ClaimUnderProcessing",type:"error"},{inputs:[{internalType:"uint256",name:"coverage",type:"uint256"}],name:"CoverageTooLarge",type:"error"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"InsufficientLiquidity",type:"error"},{inputs:[],name:"InsufficientPrivilege",type:"error"},{inputs:[],name:"InsufficientUsableCapital",type:"error"},{inputs:[{internalType:"address",name:"addr",type:"address"}],name:"InvalidAddress",type:"error"},{inputs:[{internalType:"address",name:"proxy",type:"address"}],name:"InvalidMiningProxy",type:"error"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"InvalidPolicy",type:"error"},{inputs:[],name:"NoRewards",type:"error"},{inputs:[],name:"NotClaimAvailable",type:"error"},{inputs:[],name:"NotWithdrawDay",type:"error"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"PolicyAlreadyCancelled",type:"error"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"PolicyAlreadyClaimed",type:"error"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"PolicyAlreadySettled",type:"error"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"PolicyAlreadyStale",type:"error"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"PolicyCanNotBeCancelled",type:"error"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"PolicyCanOnlyCancelledByHolder",type:"error"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"PreviousPolicyNotCancelled",type:"error"},{inputs:[{internalType:"address",name:"providerAddress",type:"address"}],name:"ProviderDetected",type:"error"},{inputs:[{internalType:"uint256",name:"_certificateId",type:"uint256"}],name:"ProviderNotExist",type:"error"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"ProviderNotStale",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"beneficiary",type:"address"}],name:"SenderNotBeneficiary",type:"error"},{inputs:[],name:"ShouldNotDelete",type:"error"},{inputs:[],name:"WithdrawDay",type:"error"},{inputs:[],name:"exerciseNotAvailable",type:"error"},{inputs:[],name:"invalidAseedOptionPeriod",type:"error"},{inputs:[],name:"optionTradeDurationPassed",type:"error"},{inputs:[],name:"priceStrike",type:"error"},{inputs:[],name:"totalCoverageExceed",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"policyId",type:"uint256"}],name:"NewPolicyMinted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"id",type:"uint256"}],name:"PolicyCancelled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"id",type:"uint256"}],name:"PolicyClaimed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"provider",type:"uint256"}],name:"ProviderEntered",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"providerAddress",type:"address"}],name:"ProviderExit",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"official",type:"address"}],name:"officialChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"standardRisk",type:"uint256"}],name:"standardRiskUpdated",type:"event"},{anonymous:!1,inputs:[],name:"teamClaimed",type:"event"},{inputs:[],name:"BASE_POINT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"BUFFER",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"DURATION",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"FEE_RATE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"FREE_RATE",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_COVERAGE_PERCENTAGE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"WITHDRAWAL_FEE_RATE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"beneficiary",type:"address"},{internalType:"uint256",name:"coverage",type:"uint256"}],name:"buyPolicy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"certificateProviderEntrance",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"certificateId",type:"uint256"}],name:"certificateProviderExit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"certificateId",type:"uint256"}],name:"claimRewards",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"epochCheck",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"epochManage",outputs:[{internalType:"contract IEpochManage",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getGlobalInfo",outputs:[{components:[{internalType:"uint256",name:"accSPS",type:"uint256"},{internalType:"uint256",name:"accRPS",type:"uint256"},{internalType:"uint256",name:"accRealSPS",type:"uint256"},{internalType:"uint256",name:"risk",type:"uint256"},{internalType:"uint256",name:"reward4Team",type:"uint256"},{internalType:"uint256",name:"standardRisk",type:"uint256"},{internalType:"uint256",name:"strikeRate",type:"uint256"},{internalType:"uint256",name:"baseRate",type:"uint256"}],internalType:"struct IMetaDefender.GlobalInfo",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"certificateId",type:"uint256"},{internalType:"bool",name:"isExit",type:"bool"}],name:"getRewards",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"certificateId",type:"uint256"}],name:"getSPSLockedByCertificateId",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"globalInfo",outputs:[{internalType:"uint256",name:"accSPS",type:"uint256"},{internalType:"uint256",name:"accRPS",type:"uint256"},{internalType:"uint256",name:"accRealSPS",type:"uint256"},{internalType:"uint256",name:"risk",type:"uint256"},{internalType:"uint256",name:"reward4Team",type:"uint256"},{internalType:"uint256",name:"standardRisk",type:"uint256"},{internalType:"uint256",name:"strikeRate",type:"uint256"},{internalType:"uint256",name:"baseRate",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IERC20",name:"_aUSD",type:"address"},{internalType:"address",name:"_official",type:"address"},{internalType:"contract ILiquidityCertificate",name:"_liquidityCertificate",type:"address"},{internalType:"contract IPolicy",name:"_policy",type:"address"},{internalType:"contract IAmericanBinaryOptions",name:"_americanBinaryOptions",type:"address"},{internalType:"contract IEpochManage",name:"_epochManage",type:"address"},{internalType:"uint256",name:"_initialRisk",type:"uint256"},{internalType:"uint256",name:"_teamReserveRate",type:"uint256"},{internalType:"uint256",name:"_standardRisk",type:"uint256"},{internalType:"uint256",name:"_strikeRate",type:"uint256"},{internalType:"uint256",name:"_baseRate",type:"uint256"}],name:"init",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"judger",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"medalCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"official",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"policyId",type:"uint256"}],name:"policyClaimApply",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"protocol",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"providerCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"teamClaim",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"teamReserveRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalCoverage",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_official",type:"address"}],name:"transferOfficial",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"standardRisk",type:"uint256"}],name:"updateStandardRisk",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"certificateId",type:"uint256"}],name:"withdrawAfterExit",outputs:[],stateMutability:"nonpayable",type:"function"}];var te=ee;let ne=[{inputs:[{internalType:"string",name:"_name",type:"string"},{internalType:"string",name:"_symbol",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"InsufficientLiquidity",type:"error"},{inputs:[],name:"InsufficientPrivilege",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"certificateId",type:"uint256"}],name:"Expired",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"certificateId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"enteredEpochIndex",type:"uint256"},{indexed:!1,internalType:"uint256",name:"liquidity",type:"uint256"},{indexed:!1,internalType:"address",name:"metaDefender",type:"address"}],name:"NewLPMinted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"MIN_LIQUIDITY",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"certificateId",type:"uint256"}],name:"belongsTo",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"certificateId",type:"uint256"}],name:"decreaseLiquidity",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"certificateId",type:"uint256"},{internalType:"uint64",name:"currentEpochIndex",type:"uint64"}],name:"expire",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"certificateId",type:"uint256"}],name:"getCertificateInfo",outputs:[{components:[{internalType:"uint64",name:"enteredEpochIndex",type:"uint64"},{internalType:"uint64",name:"exitedEpochIndex",type:"uint64"},{internalType:"uint64",name:"rewardDebtEpochIndex",type:"uint64"},{internalType:"uint256",name:"liquidity",type:"uint256"},{internalType:"uint256",name:"SPSLocked",type:"uint256"},{internalType:"bool",name:"isValid",type:"bool"}],internalType:"struct ILiquidityCertificate.CertificateInfo",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"certificateId",type:"uint256"}],name:"getLiquidity",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"getLiquidityProviders",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_metaDefender",type:"address"}],name:"init",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"metaDefender",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint64",name:"enteredEpochIndex",type:"uint64"},{internalType:"uint256",name:"liquidity",type:"uint256"}],name:"mint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"newEpochCreated",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"protocol",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalPendingCertificateLiquidity",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalValidCertificateLiquidity",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"certificateId",type:"uint256"},{internalType:"uint64",name:"currentEpochIndex",type:"uint64"}],name:"updateRewardDebtEpochIndex",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"certificateId",type:"uint256"},{internalType:"uint256",name:"SPSLocked",type:"uint256"}],name:"updateSPSLocked",outputs:[],stateMutability:"nonpayable",type:"function"}];var ae=ne;let ie=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"bool",name:"permit",type:"bool"}],name:"permitMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}];var se=ie,oe=n(4161);let re=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"BASE_POINT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"DURATION",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getGlobals",outputs:[{components:[{internalType:"uint256",name:"totalValidCertificateLiquidity",type:"uint256"},{internalType:"uint256",name:"totalPendingCertificateLiquidity",type:"uint256"},{internalType:"uint256",name:"totalCoverage",type:"uint256"},{internalType:"uint256",name:"totalPendingCoverage",type:"uint256"},{internalType:"address",name:"protocol",type:"address"}],internalType:"struct GlobalsViewer.GlobalsView[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"coverage",type:"uint256"},{internalType:"address",name:"_metaDefender",type:"address"}],name:"getPremium",outputs:[{components:[{internalType:"uint256",name:"premium",type:"uint256"},{internalType:"uint256",name:"fee",type:"uint256"},{internalType:"uint256",name:"newRisk",type:"uint256"}],internalType:"struct GlobalsViewer.TradeInsuranceView",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IMetaDefenderMarketsRegistry",name:"_metaDefenderMarketsRegistry",type:"address"},{internalType:"contract IAmericanBinaryOptions",name:"_americanBinaryOptions",type:"address"}],name:"init",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"initialized",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}];var le=re;let de=[{inputs:[],name:"checkAndCreateNewEpochAndUpdateAccRPSAccSPS",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"checkAndCreateNewEpochAndUpdateLiquidity",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"contractPeriod",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"currentEpochIndex",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[],name:"daysAboveStrikePrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"feedPrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAcaOraclePrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAseedPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentEpoch",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentEpochInfo",outputs:[{components:[{internalType:"uint256",name:"epochId",type:"uint256"},{internalType:"uint256",name:"crossSPS",type:"uint256"},{internalType:"uint256",name:"accRealSPSComp",type:"uint256"},{internalType:"uint256",name:"accRPS",type:"uint256"},{internalType:"uint256",name:"accSPS",type:"uint256"}],internalType:"struct IEpochManage.EpochInfo",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint64",name:"epochIndex",type:"uint64"}],name:"getEpochInfo",outputs:[{components:[{internalType:"uint256",name:"epochId",type:"uint256"},{internalType:"uint256",name:"crossSPS",type:"uint256"},{internalType:"uint256",name:"accRealSPSComp",type:"uint256"},{internalType:"uint256",name:"accRPS",type:"uint256"},{internalType:"uint256",name:"accSPS",type:"uint256"}],internalType:"struct IEpochManage.EpochInfo",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPriceList",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint64",name:"epochIndex",type:"uint64"}],name:"getTimestampFromEpoch",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IMetaDefender",name:"_metaDefender",type:"address"},{internalType:"contract ILiquidityCertificate",name:"_liquidityCertificate",type:"address"},{internalType:"contract IPolicy",name:"_policy",type:"address"},{internalType:"uint256",name:"_startTime",type:"uint256"},{internalType:"address",name:"_oracleOperator",type:"address"}],name:"init",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"initialized",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"isAboveStrike",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"isWithdrawDay",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionTradeDuration",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"oracleOperator",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_price",type:"uint256"}],name:"setStrikePrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"startTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"strikePrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"SPS",type:"uint256"},{internalType:"uint64",name:"enteredEpochIndex",type:"uint64"},{internalType:"bool",name:"isClaimed",type:"bool"}],name:"updateCrossShadow",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"updatePriceList",outputs:[],stateMutability:"nonpayable",type:"function"}];var ce=de;const pe="0xFb5eC27C4EE61648DD3F7AEd146474360F06833E",ue="0x4f777Fd49050d0aEB32Ffb4F4101E6E8F056F092",ye="0x5fbdb2315678afecb367f032d93f642f64180aa3",me="0x9072E05dDB5D3183DB10dFa632D2fd5d8946c43B",he={MetaDefenderAddress:"0x354085524De7DE71EdB0Cf167aF710Eb5A6A49d2",poolLiquidityCertificateAddress:"0xf5FFf5e3aB4772DE46d4B4bc3535ab40b90A7964",epochManageAddress:"0x9072E05dDB5D3183DB10dFa632D2fd5d8946c43B"},fe={MetaDefenderAddress:"0xE51797a972daCe53357768D4637FF8f151113aCE",poolLiquidityCertificateAddress:"0x541F9c4C92Ce7990308250f3B167a912CD273E67",epochManageAddress:"0x50c3305E2CD0ee5145A1B86FE9b8F875B63a7C92"},ge={MetaDefenderAddress:"0x42B8A349dc94384caF5E660D3c72Aa1e37260CCE",poolLiquidityCertificateAddress:"0x3663f3C5A0fE05694CDAC9a92C2d01a2f3CEA95B",epochManageAddress:"0x8cc46a459E51493406E525fcC008D74c69886583"};var ve,we,be,_e,Te;oe.Z.defaults.baseURL="https://metadefender.shop/";let Ce={state(){return{currentAddress:"Connect Wallet",networkChainId:"",currentAddressComp:"",ethereum:window.ethereum,a:0,b:0,protectionOriginShow:!0,poolLiquidityCertificateArr:{[he.MetaDefenderAddress.toLowerCase()]:he.poolLiquidityCertificateAddress,[fe.MetaDefenderAddress.toLowerCase()]:fe.poolLiquidityCertificateAddress,[ge.MetaDefenderAddress.toLowerCase()]:ge.poolLiquidityCertificateAddress},totalCoverage:0,totalPendingCertificateLiquidity:0,totalPendingCoverage:0,totalValidCertificateLiquidity:0,preTotalCoverageTotalValidCertificateLiquidity:0}},mutations:{changeCurrentAddress(e,t){let n=t.length;e.currentAddressComp=t,e.currentAddress=t.substring(0,4)+"***"+t.substring(n-2,n)},changeChainId(e,t){e.networkChainId=t},protectionOriginHide(e){e.protectionOriginShow=!1},protectionOriginShowAgain(e){e.protectionOriginShow=!0},getDashboardData(e,{totalCoverage:t,totalPendingCertificateLiquidity:n,totalPendingCoverage:a,totalValidCertificateLiquidity:i,preTotalCoverageTotalValidCertificateLiquidity:s}){e.totalCoverage=t,e.totalPendingCertificateLiquidity=n,e.totalPendingCoverage=a,e.totalValidCertificateLiquidity=i,e.preTotalCoverageTotalValidCertificateLiquidity=s}},actions:{protectionOriginHideDo(e){e.commit("protectionOriginHide")},protectionOriginShowAgainDo(e){e.commit("protectionOriginShowAgain")},async getWeb3(e){we=window.ethereum?new K.Q(window.ethereum):window.web3?window.web3.currentProvider:new J.r("https://eth-rpc-acala.aca-api.network"),be=we.getSigner();let t=(await we.getNetwork()).chainId;e.commit("changeChainId",t),be.getAddress().then((t=>{e.commit("changeCurrentAddress",t)}),(e=>{console.log(e)})),ve=new X.CH(pe,se,be),Te=new X.CH(ue,le,we);try{let t=await Te.getGlobals();e.dispatch("web3Data/doupdateGlobalViewerData",t,{root:!0});let n=t[t.length-1]["totalCoverage"].toString()/10**18,a=(t[t.length-1]["totalPendingCertificateLiquidity"].toString()/10**18).toFixed(),i=t[t.length-1]["totalPendingCoverage"].toString()/10**18,s=new Q.Z(t[t.length-1]["totalValidCertificateLiquidity"].toString()).dividedBy(10**18).toFixed(),o=`${(n/s*100).toFixed(2)}%`;e.commit("getDashboardData",{totalCoverage:n,totalPendingCertificateLiquidity:a,totalPendingCoverage:i,totalValidCertificateLiquidity:s,preTotalCoverageTotalValidCertificateLiquidity:o})}catch(n){e.dispatch("web3Data/doupdateGlobalViewerData",[],{root:!0})}},async linkWallet(){try{await we.send("eth_requestAccounts",[])}catch(e){console.log("no metamask or already linked")}},async switchChainId({dispatch:e}){await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:$.$P(595),chainName:"Mandala Testnet",nativeCurrency:{name:"mACA",symbol:"mACA",decimals:18},rpcUrls:["https://eth-rpc-tc9.aca-staging.network"],blockExplorerUrls:["https://blockscout.mandala.aca-staging.network/"]}]}).catch((e=>{console.log(e)})),await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:$.$P(595)}]}).then((()=>{e("getWeb3")})).catch((e=>{console.log("wallet_switchEthereumChain error: ",e)})).finally((()=>{}))},async getPolicyNfts(e){be.getAddress().then((t=>{(0,oe.Z)({method:"post",url:"",data:{query:`\n                            query {\n                                policies(filter: {beneficiary: {equalTo: "${t}"}}) {\n                                  nodes{\n                                    sPS\n                                    coverage\n                                    duration\n                                    enteredEpochIndex\n                                    fee\n                                    id\n                                    isClaimApplying\n                                    isClaimed\n                                    isSettled\n                                    standardRisk\n                                    policyId\n                                    beneficiary\n                                    protocol\n                                    epochManage\n                                  }\n                                }\n                              }\n\n                            `}}).then((t=>{console.log(t.data.data.policies),e.dispatch("web3Data/doupdatePolicyArr",t.data.data.policies.nodes,{root:!0})}),(e=>{console.log(e)}))}),(e=>{console.log(e)}))},async getCertificateNfts(e){be.getAddress().then((t=>{(0,oe.Z)({method:"post",url:"",data:{query:`\n                            query {\n                              liquidityCertificates (filter: {\n                                and:{\n                                  owner:{\n                                    equalTo: "${t}"\n                                  },\n                                  isValid:{\n                                    equalTo:true\n                                  }\n                                }\n                              }) {\n                                nodes{\n                                  id\n                                  certificateId\n                                  enteredEpochIndex\n                                  exitedEpochIndex\n                                  isValid\n                                  liquidity\n                                  owner\n                                  rewardDebtEpochIndex\n                                  sPSLocked\n                                  protocol\n                                }\n                              }\n                            }\n                            `}}).then((t=>{e.dispatch("web3Data/doupdateCertificateArr",t.data.data.liquidityCertificates.nodes,{root:!0})}),(e=>{console.log(e)}))}),(e=>{console.log(e)}))},async getMedalNfts(e){be.getAddress().then((t=>{(0,oe.Z)({method:"post",url:"",data:{query:`\n                            query {\n                              liquidityCertificates (\n                                orderBy:CERTIFICATE_ID_ASC,\n                                filter:  {\n                                and:{\n                                  owner:{\n                                    equalTo: "${t}"\n                                  },\n                                  isValid:{\n                                    equalTo:false\n                                  }\n                                }\n                              }) {\n                                nodes{\n                                  id\n                                  certificateId\n                                  enteredEpochIndex\n                                  exitedEpochIndex\n                                  isValid\n                                  liquidity\n                                  owner\n                                  rewardDebtEpochIndex\n                                  sPSLocked\n                                  protocol\n                                }\n                              }\n                            }\n                            `}}).then((t=>{console.log("medals===>",t.data.data.liquidityCertificates),e.dispatch("web3Data/doupdateMedalArr",t.data.data.liquidityCertificates.nodes,{root:!0})}),(e=>{console.log(e)}))}),(e=>{console.log(e)}))},async getRewards(e,{certificateId:t,poolAddress:n}){try{let a=new X.CH(n,te,be),i=await a.getRewards(t,!1),s=parseInt(i.toHexString(),16);e.dispatch("web3Data/doupdateReward",(s/10**18).toFixed(2),{root:!0})}catch(a){let t="Error";e.dispatch("web3Data/doupdateReward",t,{root:!0})}},async getStrikePrice(e,{poolAddress:t}){try{let e=new X.CH(t,te,be),n=await e.epochManage(),a=new X.CH(n,ce,be),i=await a.strikePrice();if(console.log("strike price is ====>",i),0!=i)return i+" USD";{let t=await e.getGlobalInfo(),n=t.strikeRate;return n/1e16+" %"}}catch(n){return"NaN"}},async calculateMedalValues(e,{poolAddress:t,medalId:n}){try{let a=new X.CH(t,te,be),i=parseInt(n),s=await a.getSPSLockedByCertificateId(i);e.dispatch("web3Data/doupdateMedalValues",s,{root:!0})}catch(a){let t="Error";e.dispatch("web3Data/doupdateMedalValues",t,{root:!0})}},async getAllowance(e,{owner:t,spender:n}){let a=await ve.allowance(t,n);return a},async approveUsdtForMetaDefender(e,{spender:t,gasLimit:n,gasPrice:a}){console.log(n,a);try{let e=await ve.approve(t,"10000000000000000000000000"),n=await e.wait();console.log(n)}catch(i){console.log(i)}},async takeRewards(e,{poolAddress:t,certificateId:n,gasLimit:a,gasPrice:i}){console.log(a,i);try{let e=new X.CH(t,te,be),a=parseInt(n),i=await e.claimRewards(a),s=await i.wait();console.log(s)}catch(s){console.log(s)}},async removeLiquidity(e,{poolAddress:t,certificateId:n,gasLimit:a,gasPrice:i}){console.log(a,i);try{let e=new X.CH(t,te,be),a=parseInt(n),i=await e.certificateProviderExit(a),s=await i.wait();console.log(s)}catch(s){console.log(s)}},async removeLiquidityAfterExit(e,{poolAddress:t,certificateId:n,gasLimit:a,gasPrice:i}){console.log(a,i);try{let e=new X.CH(t,te,be),a=parseInt(n);console.log(typeof a);let i=await e.withdrawAfterExit(a),s=await i.wait();console.log(s)}catch(s){console.log(s)}},async setSignTypedData(e,{method:t,params:n,from:a}){try{let e=await window.ethereum.request({method:t,params:n,from:a});return e}catch(i){return"Settling policy failed"}},async settlePolicy(e,{poolAddress:t,policyId:n,gasLimit:a,gasPrice:i}){console.log(a,i);try{let e=new X.CH(t,te,be),a=parseInt(n),i=await e.settlePolicy(a),s=await i.wait();return s}catch(s){return"Settling policy failed"}},async applyForClaim(e,{poolAddress:t,policyId:n,gasPrice:a,gasLimit:i}){console.log(i,a);try{let e=new X.CH(t,te,be),a=parseInt(n);await e.policyClaimApply(a)}catch(s){console.log(s)}},async transferCertificate(e,{poolAddress:t,from:n,to:a,certificateId:i,gasLimit:s,gasPrice:o}){console.log(s,o);try{let s=e.state.poolLiquidityCertificateArr[t];_e=new X.CH(s,ae,be);let o=parseInt(i),r=await _e["safeTransferFrom(address,address,uint256)"](n,a,o);console.log(r);let l=await r.wait();return console.log(l),l}catch(r){return console.log(r),"Transferring certificate failed"}},async buyCover(e,{poolAddress:t,coverage:n,policyHolder:a,gasLimit:i,gasPrice:s}){console.log(i,s);try{let e=new X.CH(t,te,be),i=n.toString()+"000000000000000000";console.log("poolAddress",t),console.log("coverage",n),console.log("policyHolder",a),console.log("coverageBN",i);let s=await e.buyPolicy(a,i),o=await s.wait();console.log(o)}catch(o){console.log(o)}},async underwrite(e,{poolAddress:t,amount:n}){console.log(n+"aaa");try{let e=new X.CH(t,te,be),a=n.toString()+"000000000000000000",i=await e.certificateProviderEntrance(a),s=await i.wait();console.log(s)}catch(a){console.log(a)}},async getTimestampFromEpoch(e,{index:t,epochManage:n}){try{let a=new X.CH(n,ce,be),i=await a.getTimestampFromEpoch(t);e.dispatch("web3Data/doupdateEpochTime",i,{root:!0})}catch(a){console.log(a)}},async getPremiumRate(e,{amount:t,contract:n}){try{let e=await Te.getPremium(t,n);return(parseInt(e.premium.toHexString(),16)/10**16).toFixed(2)}catch(a){return"-"}},async getWithdrawableAmount(e,{certificateId:t,protocol:n}){try{let a=new X.CH(n,te,be),i=await a.getSPSLockedByCertificateId(t);e.dispatch("web3Data/doupdateWithdrawableAmount",(parseInt(i[1].toHexString(),16)/10**18).toFixed(2),{root:!0})}catch(a){let t="Error";e.dispatch("web3Data/doupdateWithdrawableAmount",t,{root:!0})}},async mintFaucet(e){console.log("mint");let t=await ve.mint(e.state.currentAddressComp,1e4.toString()+"000000000000000000");return t},async nextWithdrawDay(){try{let e=new X.CH(me,ce,be),t=await e.startTime();console.log("startTime===>",t);let n=(t-t%86400)/86400;console.log("start epoch ===>",n);let a=n+10;return console.log("next withdraw day=====>",a),a}catch(e){console.log("err===>",e)}},async isWithdrawDay(){try{let e=new X.CH(me,ce,be),t=await e.isWithdrawDay();return console.log("res===>",t),t}catch(e){console.log("err===>",e)}}}};var Ae=Ce;let Pe={namespaced:!0,state(){return{chainId:0,policyArr:[],certificateArr:[],medalArr:[],poolAddressArr:{[he.MetaDefenderAddress.toLowerCase()]:{Name:"231019_Glimmer",Protected:"231019_Glimmer",NetWork:"Mandala Testnet",ProtectionType:"Call Option",Token:"aSEED",protocolImage:"../../assets/discord-icon.svg"},[fe.MetaDefenderAddress.toLowerCase()]:{Name:"231019_Flame",Protected:"231019_Flame",NetWork:"Mandala Testnet",ProtectionType:"Call Option",Token:"aSEED",protocolImage:"../../assets/discord-icon.svg"},[ge.MetaDefenderAddress.toLowerCase()]:{Name:"231019_Blaze",Protected:"231019_Blaze",NetWork:"Mandala Testnet",ProtectionType:"Call Option",Token:"aSEED",protocolImage:"../../assets/discord-icon.svg"}},reward:"",globalViewerData:[],globalViewerDataLoading:!0,epochTime:"",withdrawAmount:"-",medalSPS:"-",medalWithdraw:"-"}},mutations:{updatePolicyArr(e,t){e.policyArr=t},updateMedalArr(e,t){e.medalArr=t},updateCertificateArr(e,t){e.certificateArr=t},updateReward(e,t){e.reward=t},updateGlobalViewerData(e,t){e.globalViewerData=t,e.globalViewerDataLoading=!1},updateEpochTime(e,t){e.epochTime=1e3*parseInt(t.toHexString(),16)},updateWithdrawableAmount(e,t){e.withdrawAmount=t},updateMedalValues(e,t){e.medalSPS=(parseInt(t[0].toHexString(),16)/10**18).toFixed(9),e.medalWithdraw=(parseInt(t[1].toHexString(),16)/10**18).toFixed(2)}},actions:{doupdatePolicyArr(e,t){e.commit("updatePolicyArr",t)},doupdateMedalArr(e,t){e.commit("updateMedalArr",t)},doupdateCertificateArr(e,t){e.commit("updateCertificateArr",t)},doupdateReward(e,t){e.commit("updateReward",t)},doupdateGlobalViewerData(e,t){e.commit("updateGlobalViewerData",t)},doupdateEpochTime(e,t){e.commit("updateEpochTime",t)},doupdateWithdrawableAmount(e,t){e.commit("updateWithdrawableAmount",t)},doupdateMedalValues(e,t){e.commit("updateMedalValues",t)}}};var ke=Pe;let Ie={state(){return{protocolImage:{}}},mutations:{},actions:{}};var De=Ie;const Se=(0,G.MT)({modules:{web3Utils:Ae,web3Data:ke,storage:De}});var xe=Se,Me=n(8051),Ee={name:"App",data(){return{navClass:"nav-initial",walletClass:"wallet-initial",showNav:!1,menuIconBox:"menu-icon-box",menuIconLi1:"menu-icon-li1-init",menuIconLi2:"menu-icon-li2-init",menuIconLi3:"menu-icon-li3-init",ethers:Me}},methods:{showNavOrNot(){0==this.showNav?(this.showNav=!0,this.navClass="nav-show",this.menuIconLi1="menu-icon-li1-cross",this.menuIconLi2="menu-icon-li2-cross",this.menuIconLi3="menu-icon-li3-cross"):(this.navClass="nav-initial",this.menuIconLi1="menu-icon-li1-init",this.menuIconLi2="menu-icon-li2-init",this.menuIconLi3="menu-icon-li3-init",this.showNav=!1)},connectWallet(){xe.dispatch("linkWallet")},chainClick(){595!==this.getNetwork&&xe.dispatch("switchChainId")},protectionShow(){xe.dispatch("protectionOriginShowAgainDo")},mintFaucet(){xe.dispatch("mintFaucet")}},computed:{getCurrentAddress(){return xe.state.web3Utils.currentAddress},getNetwork(){return xe.state.web3Utils.networkChainId}},mounted(){oe.Z.defaults.baseURL="https://metadefender.shop/",xe.dispatch("getWeb3"),window.ethereum.on("chainChanged",(e=>{xe.state.web3Utils.networkChainId=parseInt(e),xe.dispatch("getWeb3")})),xe.state.web3Utils.ethereum.on("accountsChanged",(function(e){if(0!=e.length){let t=e[0].length;xe.state.web3Utils.currentAddressComp=e[0],xe.state.web3Utils.currentAddress=e[0].substring(0,4)+"***"+e[0].substring(t-2,t);let n=`\n                            query MyQuery {\n                                policies(filter: {beneficiary:{equalTo: "${e[0]}"}}) {\n                                  nodes{\n                                    sPS\n                                    coverage\n                                    duration\n                                    enteredEpochIndex\n                                    fee\n                                    id\n                                    isClaimApplying\n                                    isClaimed\n                                    isSettled\n                                    standardRisk\n                                    policyId\n                                    beneficiary\n                                  }\n                                }\n                              }\n                            `;(0,oe.Z)({method:"post",url:"",data:{query:n}}).then((e=>{console.log("test",e.data.data.policies),xe.dispatch("web3Data/doupdatePolicyArr",e.data.data.policies.nodes)}),(e=>{console.log("no nfts"+e)}));let a=`\n            query {\n              liquidityCertificates(filter: {owner : {equalTo: "${e[0]}"}}) {\n                nodes{\n                  id\n                  certificateId\n                  enteredEpochIndex\n                  exitedEpochIndex\n                  isValid\n                  liquidity\n                  owner\n                  rewardDebtEpochIndex\n                  sPSLocked\n                }\n              }\n            } \n            `;(0,oe.Z)({method:"post",url:"",data:{query:a}}).then((e=>{console.log(e.data.data.liquidityCertificates),xe.dispatch("web3Data/doupdateCertificateArr",e.data.data.liquidityCertificates.nodes)}),(e=>{console.log("no nfts"+e)}))}else xe.state.web3Utils.currentAddressComp="",xe.state.web3Utils.currentAddress="Connect Wallet",xe.dispatch("web3Data/doupdateCertificateArr",[]),xe.dispatch("web3Data/doupdateMedalArr",[]),xe.dispatch("web3Data/doupdatePolicyArr",[]),console.log(xe.state.web3Data.certificateArr)}))}},Ne=n(89);const Le=(0,Ne.Z)(Ee,[["render",Y]]);var Ue=Le,je=n(6797),Oe=n.n(je),Fe=n(2483);const ze=(0,s._)("div",{class:"intro"},[(0,s._)("div",{class:"protection-intro"},[(0,s._)("div",{class:"protection-intro-content"}," Welcome to Meta Defender, a novel options trading protocol in the DeFi space that allows users to engage with the price dynamics of aSEED. In a time when the aSEED's value fluctuates, Meta Defender offers three distinct option vaults that enable both buyers and sellers of options to capitalize on potential price movements. Explore various vaults, acquire unique NFTs, and participate in a thriving financial ecosystem. ")])],-1),We={class:"project-content"},qe={class:"content-title"},Be={class:"project-content project-content-data"},Ve={class:"content-sub-title"},Re={class:"content-amount"},Ze={class:"project-content project-content-data"},He={class:"content-sub-title"},Ye={class:"content-amount"},Ge={class:"project-content project-content-data"},Ke={class:"content-sub-title"},Je={class:"content-amount"};function Xe(e,t,n,a,i,r){return(0,s.wg)(),(0,s.iD)(s.HY,null,[ze,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.dashboardList,(e=>((0,s.wg)(),(0,s.iD)("div",{class:(0,o.C_)(["project-tvl",{"project-one":"Option"===e.title},{"project-two":"NFT Hodlers"===e.title},{"project-three":"Protocol"===e.title}]),key:e.title},[(0,s._)("div",We,[(0,s._)("div",qe,[(0,s._)("div",null,(0,o.zw)(e.title),1)])]),(0,s._)("div",Be,[(0,s._)("div",Ve,(0,o.zw)(e.value1tips),1),(0,s._)("div",Re,(0,o.zw)(e.value1),1)]),(0,s._)("div",Ze,[(0,s._)("div",He,(0,o.zw)(e.values2Tips),1),(0,s._)("div",Ye,(0,o.zw)(e.value2),1)]),(0,s._)("div",Ge,[(0,s._)("div",Ke,(0,o.zw)(e.values3Tips),1),(0,s._)("div",Je,(0,o.zw)(e.value3),1)])],2)))),128))],64)}var $e={name:"DashboardIns",data(){return{dashboardList:[{title:"Option",value1tips:"Total Availability",value1:`$${xe.state.web3Utils.totalValidCertificateLiquidity}`,values2Tips:"Total Option Sold",value2:`$${xe.state.web3Utils.totalCoverage}`,values3Tips:"Occupied",value3:xe.state.web3Utils.preTotalCoverageTotalValidCertificateLiquidity},{title:"NFT Hodlers",value1tips:"Option",value1:"6529",values2Tips:"Seller Certificate",value2:"988",values3Tips:"Seller Medals",value3:"727"},{title:"Protocol",value1tips:"Option Fee",value1:"10200",values2Tips:"Active Vaults",value2:"3",values3Tips:"Resolved Vaults",value3:"0"}]}},methods:{},mounted(){console.log("store.state.web3Utils",xe.state.web3Utils)},computed:{totalValidCertificateLiquidity(){return xe.state.web3Utils.totalValidCertificateLiquidity},totalCoverage(){return xe.state.web3Utils.totalCoverage},preTotalCoverageTotalValidCertificateLiquidity(){return xe.state.web3Utils.preTotalCoverageTotalValidCertificateLiquidity}},watch:{totalValidCertificateLiquidity(e){this.dashboardList[0].value1=`$${e}`},totalCoverage(e){this.dashboardList[0].value2=`$${e}`},preTotalCoverageTotalValidCertificateLiquidity(e){this.dashboardList[0].value3=e}}};const Qe=(0,Ne.Z)($e,[["render",Xe]]);var et=Qe,tt=n.p+"img/home-perk-05.14fe886d.svg",nt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAMKADAAQAAAABAAAAMAAAAADbN2wMAAAGzUlEQVRoBdVaaWxUVRT+7nszU5FNthYoBWPZXGpKIYBEISUYKUpaXCAaATEKKMTEAAZrMCUgJpTEiBITRRJj7A8UWUJMVNRA4AdahbgVCoNALWLLUqFQ2lme57x0xpl773vzZgYQTjJ5767nnPvOfkdAA6PnW/7GRlRYFv2AMbAwkKZ100y9ll2tEDglgFohsC0/H9t+fF+EZIQ0ngy5j1gzEEE19RYmj/zvrSBMLGvaKbYmUmLEGlVVlpE7zVpLxH9OfTca8UxmIdPGNDKtMbrjX8Am3sKy2MAN/RSobvpCvMI02gx0ig2ffEZQPNRC6egICvOjGJRrIb+vBZ8fuNQGtLYJNJ8XqD1k4Ic6AwfrDVxuzwhN8iITj7I4CVbYhgbU0WhaYjOgj4Vnp4fx0NgI8nqTqnuE9pDA9j0mNu304Y+/4gLgcXXStGBBAe4U/R+2nohGsTlpyKXRvSuwsDyM2WVh5Pi9E65uKbCr1sCaj/xobM6MEcPATLPrsKrXaPMiFYHaM6EoipqqdkwoisBnquPp9twx0MJjpRGcPitw+GRcL9PZJiRIeQ+TnR+eatXTUyOonBOCaWRz6s5Ytu/1ofI9P8IR5znKiEC9r9NJKWOJHZVzQ5hLIuMGVzoE9v1ioO64YSvt2QsCPbtayO1lgU96UnEEPbo5M19+P4mkz8LL6wMgkfYG5GB9NNPVw86mk3cjnj/9hi1+7DlooM3FupiGH+PujmJhRZie+mOeOj5Ce4SwnL6ER+gmcssoYHAAlvmNr3ZoxYbN4xukgFt3m3DeQb/xxOIoVj4XwsC++qNeV+PHBzv4bFODIwNsbXa9fQW3aT77ydMGFlYHEGzMzHowWX16AO8u6UDJCPVrsKmdviwHJ06n3t9R9dlU6ohv+Jts14qcrIhnBs5eAOasCmD/b6o5Y/O8er4St/EyBbQMsJNiOy8Di82CtQGcvyiPZNYOEYqX3gqAD0WGsXdFSPH1IpY4V11Jo+xhdU6KZT4bsUlEHHtvaQWWvhOINZOesx5UDzFpAjW0DHB4IEN9g2ErrNx/NdoHjwp8uV8VpdJRUfTv7Y5BYYADM11ss2ELuQxHe+WOxMvo+s2q6TTIabJpdQOFAY4qZWAntfuAekLyvGzaR8miBRsVclBU6K4HygoOiWVgD+vmpOT5mba/qVUPKW0GOJ6X4RCFB9cD6k6odn9Ifwu35jhjVygb1E9loLlF3dh5y8xHms7p8Fjokg4DpsaDn/lHt3HmhDqtPEcBoA5MVbLi05QvwGmgDBxVXg9wwuMznfErDLC3lUFnVuU5V6PdT2vzBVpaVZpi+BQGOAGXgeP56wFDNRaQ083LV5yxKwxw9UAGTkZMtVuelnW7tET1QUf+VA80EZFCFpc+ZOhOOjD+HtU/yPOyaXPIcC9FATL8GlTpSZyjjHLdhuNxGTiTupawoILDZ5WB7XtdTBCtUBjgohPXbWTwGt7K67y02VnNmqKKz4F6EydTJDUKA4yQi06dRbsk/CufD6Fvz6SurBsBQrV2sT5t/fRb9SBlhFoGuGLGRScZBvSJ2mmgX+Ps5Lle26so8yoequrXoRMUvmskQd5XpbJzBlfMdD5h1PAINlV2ULopb5Ve2z75RSFUTNTplkDVRr+n8oojA2x/V36oxuhMJuvDljXtGDVMPTkvbLDMf0wVvvIHdMQDX39v4MARR9KSUHBpsSqpJ6HBNZ/BecDIISqhPci0Pj45ghEFlh3HcyErFXCuveTJMN58gUoq9O4EBYTz92OGp6qEY1kltjnXQNctDqHsPv1pxeYdO2WA4/m64wJN5M05MGMmc3tR2Zs87GRKlIoKmWhnwmN78bMjLLBoXcAumCX2y+8pGeAFVAXGmgUhzJjkzoS8ebZtL0x4EjSuVXK5r5oqZpxeXl0Q+IoSeiZWhgDVSjcs7QBX8pyAvwBXeTzblMGkgKvJHzjVN50Q6frZVLK1YYVlIplYJloGly/R6rm8Lm/KCGdNCWNySZRETEUqz09s/3TYxGffmbadT6xEp2Ji3uqAfVUV34vK6yJvmvUJlUueinem+ZJHQdjUcaygUft3+wBZUYV9A1PfIMCB2Y597uGBGxOcm5cv/y+/pPvjmrSvmFLxx/lrFyq0cRroJ3FouUjxvEvZXbefExOXKNkqmXdLfAkZl5kG34BTTzDem+ULl1/OkVY1twCnzqRPPKPnuwY2obJi7/s5yeYEmXZb9bO9Zs2SZ8flY0ZGseKZEAryLDDxr29MKCzHrlljq2/Wi+74N3lxLJbTtTf/R+LGBqLRprWTSsV73Gx/9lAYYMZupr/b/At2yna9j1klGQAAAABJRU5ErkJggg==";const at={class:"protection-origin"},it={class:"protection-intro"},st={class:"protection-intro-content"},ot=(0,s._)("div",{class:"protection-intro-content-title"},[(0,s._)("img",{src:tt,alt:"",class:"protection-intro-content-pic"}),(0,s._)("div",null,"Start your Option Journey NOW!!")],-1),rt={key:0,class:"f-w"},lt={key:1,class:"f-w"},dt={class:"search-area"},ct={class:"search-box"},pt=(0,s._)("div",{class:"search-icon"},[(0,s._)("img",{src:nt,alt:""})],-1),ut={class:"protection-args-wrapper"},yt=(0,s._)("ul",null,[(0,s._)("li",null,[(0,s._)("div",{class:"protection-li protection-args"},[(0,s._)("div",null,"Vault"),(0,s._)("div",null,"Option Type"),(0,s._)("div",null,"Option Rate"),(0,s._)("div",null,"Capacity"),(0,s._)("div",null,"Strike Price"),(0,s._)("div",null,"Option Sold")])])],-1),mt={key:0},ht={class:"protection-li protection-ins"};function ft(e,t,n,a,r,l){const d=(0,s.up)("router-link"),c=(0,s.up)("Spin"),p=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.wy)((0,s._)("div",at,[(0,s._)("div",it,[(0,s._)("div",st,[ot,(0,s.Uk)(" Meta Defender introduces three options trading vaults, each with specific strike prices targeting the value of aSEED. As an option buyer, you have the opportunity to exercise the option if aSEED's price reaches the strike price. As an option seller, you can earn premiums and engage with different vaults. Every option transaction will be minted as a non-fungible token (NFT) and transferred directly to your wallet, serving as a record of your participation. Please take the time to review the details of each vault to ensure alignment with your financial goals and risk tolerance. "),r.isWithdrawDay?((0,s.wg)(),(0,s.iD)("p",rt,"Today is withdraw day")):((0,s.wg)(),(0,s.iD)("p",lt,(0,o.zw)(r.differTime)+" left until the last option trading day ",1))])]),(0,s._)("div",dt,[(0,s._)("div",ct,[(0,s.wy)((0,s._)("input",{type:"text",placeholder:"Search for Vault","onUpdate:modelValue":t[0]||(t[0]=e=>r.keyword=e),onKeyup:t[1]||(t[1]=e=>l.filterProtection(e))},null,544),[[i.nr,r.keyword]])]),pt]),(0,s._)("div",ut,[yt,(0,s.Wm)(c,{spinning:l.globalViewerDataLoading,wrapperClassName:"governance-container"},{default:(0,s.w5)((()=>[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.protectionStatus,(e=>((0,s.wg)(),(0,s.iD)("li",{key:e.Name},[e.show?((0,s.wg)(),(0,s.iD)("div",mt,[(0,s.Wm)(d,{to:`/protection/${e.Protocol}`},{default:(0,s.w5)((()=>[(0,s._)("div",ht,[(0,s._)("div",null,(0,o.zw)(e.Protected),1),(0,s._)("div",null,(0,o.zw)(e.ProtectionType),1),(0,s._)("div",null,(0,o.zw)(e["Premium Rate"]),1),(0,s._)("div",null,(0,o.zw)(e.Capacity),1),(0,s._)("div",null,(0,o.zw)(e.StrikePrice),1),(0,s._)("div",null,(0,o.zw)(e.Coverage),1)])])),_:2},1032,["to"])])):(0,s.kq)("",!0)])))),128))])])),_:1},8,["spinning"])])],512),[[i.F8,l.protectionOriginShow]]),(0,s.Wm)(p)],64)}n(4982);var gt=n(4012);n(7658);const vt=function(e){let t=86400,n=3600,a=60,i=Math.floor(e/t),s=Math.floor(e%t/n),o=Math.floor(e%n/a);return i>0?i+" day "+s+" hours "+o+" minutes":s>0?s+" hours "+o+" minutes":o>0?o+"minutes":""};var wt={name:"ProtectionIns",components:{Spin:gt.Z},data(){return{keyword:"",protectionStatus:[],BigNumber:Q.Z,differTime:"",isWithdrawDay:!1}},mounted(){console.log("Loading protection"),this.sortGlobalViewerData(xe.state.web3Data.globalViewerData),this.getDifferTime()},computed:{protectionOriginShow(){return xe.state.web3Utils.protectionOriginShow},globalViewerData(){return xe.state.web3Data.globalViewerData},globalViewerDataLoading(){return xe.state.web3Data.globalViewerDataLoading}},watch:{globalViewerData(e){this.sortGlobalViewerData(e)},protectOriginNotshow(){xe.dispatch("protectionOriginHideDo")}},methods:{async getDifferTime(){let e=await xe.dispatch("isWithdrawDay");this.isWithdrawDay=e,console.log("isWithdrawDay",e);let t=await xe.dispatch("nextWithdrawDay"),n=Date.parse(new Date)/1e3,a=vt(86400*t-n);this.differTime=a},sortGlobalViewerData(e){let t=e;this.protectionStatus=[];let n=xe.state.web3Data.poolAddressArr;console.log("globalViewerData",t),t.map((async(e,t)=>{if("0x0000000000000000000000000000000000000000"!==e.protocol){console.log("item.protocol=====>",e.protocol);let a=e.protocol,i=await xe.dispatch("getPremiumRate",{amount:(10**18).toString(),date:"360",contract:a}),s=await xe.dispatch("getStrikePrice",{poolAddress:a});this.protectionStatus[t]={Protocol:e?.protocol,Name:n[e?.protocol.toLowerCase()]?.Name,ProtectionType:n[e.protocol.toLowerCase()]?.ProtectionType,Protected:n[e?.protocol.toLowerCase()]?.Protected,Network:n[e?.protocol.toLowerCase()]?.NetWork,"Premium Rate":`${i}%`,Capacity:`${(0,Q.Z)(parseInt(e.totalValidCertificateLiquidity.toHexString(),16)).dividedBy(Math.pow(10,18)).toFixed()} aSEED`,StrikePrice:s,Coverage:`${(0,Q.Z)(parseInt(e.totalPendingCoverage.toHexString(),16)).dividedBy(Math.pow(10,18)).toFixed()} aSEED`,show:!0,key:e?.protocol}}}))},filterProtection(){let e=this.keyword;""==e?this.protectionStatus.forEach((e=>{e.show=!0})):this.protectionStatus.forEach((t=>{t.Protected&&t.Protected.toLowerCase().indexOf(e.toLowerCase())>=0?t.show=!0:t.show=!1}))},mergeImgs(e,t=100,n=100){return new Promise((a=>{const i=[],s=document.createElement("canvas");s.width=t*e.length,s.height=n;const o=s.getContext("2d");e.map(((r,l)=>{const d=new Image;d.src=r,d.crossOrigin="Anonymous",d.onload=()=>{o.drawImage(d,n*l,0,t,n);const r=s.toDataURL("image/png");i.push(r),i[e.length-1]&&(console.log(i),a(i[e.length-1]))}}))}))}}};const bt=(0,Ne.Z)(wt,[["render",ft]]);var _t=bt,Tt=n.p+"img/about-results-01.04c4815b.svg",Ct=n.p+"img/arrow-icon.078808a0.svg";const At=e=>((0,s.dD)("data-v-686e42f4"),e=e(),(0,s.Cn)(),e),Pt={class:"top-container"},kt=At((()=>(0,s._)("div",{class:"page-and-direction"},[(0,s._)("div",{class:"page page-left"},[(0,s._)("div",{class:"page-line-1"}),(0,s._)("div",{class:"page-line-2"})]),(0,s.Uk)(" Vaults ")],-1))),It={class:"top-item"},Dt=At((()=>(0,s._)("div",{class:"page-and-direction"},[(0,s.Uk)(" View my Nfts "),(0,s._)("div",{class:"page page-right"},[(0,s._)("div",{class:"page-line-1"}),(0,s._)("div",{class:"page-line-2"})])],-1))),St={class:"protection-info"},xt={class:"protection-protocol"},Mt=At((()=>(0,s._)("div",null,[(0,s._)("img",{src:Tt,alt:""})],-1))),Et={class:"protection-type"},Nt=At((()=>(0,s._)("div",{class:"info-title"},"Option Type",-1))),Lt={class:"info-info"},Ut={class:"protection-capacity"},jt=At((()=>(0,s._)("div",{class:"info-title"},"Capacity",-1))),Ot={class:"info-info"},Ft={class:"protection-useable"},zt=At((()=>(0,s._)("div",{class:"info-title"},"Capacity Occupied",-1))),Wt={class:"info-info"},qt={class:"protection-rate"},Bt=At((()=>(0,s._)("div",{class:"info-title"},"Option Rate",-1))),Vt={class:"info-info"},Rt={class:"protection-payment"},Zt=At((()=>(0,s._)("div",{class:"info-title"},"Strike Price",-1))),Ht={class:"info-info"},Yt={class:"protection-agreement"},Gt=At((()=>(0,s._)("br",null,null,-1))),Kt=At((()=>(0,s._)("br",null,null,-1))),Jt=At((()=>(0,s._)("div",{class:"defPopover"},[(0,s._)("div",{class:"strongText"},"Option Vaults"),(0,s._)("p",null," Please choose the suitable option vault based on your expectations and understanding of the aSEED price movement. ")],-1))),Xt=At((()=>(0,s._)("strong",{class:"strongUnder"},"Option Vaults",-1))),$t=At((()=>(0,s._)("div",{class:"defPopover"},[(0,s._)("div",{class:"strongText"},"Purchase Period"),(0,s._)("p",null," Options can only be purchased during the first week(or first 7 days) of the month, and then the waiting period begins until the end of the month to determine whether the option strikes or not. ")],-1))),Qt=At((()=>(0,s._)("strong",{class:"strongUnder"},"Purchase Period",-1))),en=At((()=>(0,s._)("div",{class:"defPopover"},[(0,s._)("div",{class:"strongText"},"Premium"),(0,s._)("p",null," The premium for the option will be paid upfront at the time of purchase. This is non-refundable, regardless of whether the option is exercised. ")],-1))),tn=At((()=>(0,s._)("strong",{class:"strongUnder"},"Premium",-1))),nn=At((()=>(0,s._)("div",{class:"defPopover"},[(0,s._)("div",{class:"strongText"},"Option NFTs"),(0,s._)("p",null," The purchase will be minted as a non-fungible token (NFT) and transferred directly to your wallet as a record of the transaction. ")],-1))),an=At((()=>(0,s._)("strong",{class:"strongUnder"},"Option NFTs",-1))),sn=At((()=>(0,s._)("div",{class:"defPopover"},[(0,s._)("div",{class:"strongText"},"expiry"),(0,s._)("p",null," If the conditions to exercise the option are not met, the option will expire on the last day of the month. ")],-1))),on=At((()=>(0,s._)("strong",{class:"strongUnder"},"expiry",-1))),rn=At((()=>(0,s._)("br",null,null,-1))),ln=At((()=>(0,s._)("br",null,null,-1))),dn=At((()=>(0,s._)("div",{class:"defPopover"},[(0,s._)("div",{class:"strongText"},"Selling Period"),(0,s._)("p",null," Options can only be sold during the first week (or first X days) of the month, following the same time frame as the purchase period. ")],-1))),cn=At((()=>(0,s._)("strong",{class:"strongUnder"},"Selling Period",-1))),pn=At((()=>(0,s._)("div",{class:"defPopover"},[(0,s._)("div",{class:"strongText"},"Option NFTs"),(0,s._)("p",null," The sale will be minted as a non-fungible token (NFT) and transferred directly to your wallet as a record of the transaction. ")],-1))),un=At((()=>(0,s._)("strong",{class:"strongUnder"},"Option NFTs",-1))),yn=At((()=>(0,s._)("div",{class:"defPopover"},[(0,s._)("div",{class:"strongText"},"Premium Earnings"),(0,s._)("p",null," As a seller, you will earn the premium paid by the option buyer, regardless of whether the option is exercised or not. ")],-1))),mn=At((()=>(0,s._)("strong",{class:"strongUnder"},"Premium Earnings",-1))),hn={class:"protection-right"},fn={class:"protection-buy-or-underwrite"},gn={class:"select"},vn={key:0,class:"amount-container"},wn={class:"amount"},bn=At((()=>(0,s._)("div",{class:"amount-title"},"Option Payouts",-1))),_n={class:"amount-input amount-input-left-l"},Tn={class:"amount-input-box"},Cn=At((()=>(0,s._)("div",{class:"amount-token"},"aSEED",-1))),An={class:"amount"},Pn={class:"amount-title amount-title-others"},kn=At((()=>(0,s._)("img",{src:Ct,alt:""},null,-1))),In=[kn],Dn={class:"amount-input"},Sn={class:"amount-input-box amount-input-box-others"},xn={key:1,class:"amount-container"},Mn={class:"amount"},En=At((()=>(0,s._)("div",{class:"amount-title"},"Amount",-1))),Nn={class:"amount-input amount-input-left-l"},Ln={class:"amount-input-box"},Un=At((()=>(0,s._)("div",{class:"amount-token"},"aSEED",-1))),jn=At((()=>(0,s._)("div",{class:"caculate-and-pay caculate-and-pay2"},[(0,s._)("div",{class:"caculate-and-pay-content underwriter-alert"}," After providing your underwriting capital, you can swiftly verify the transaction in the Option NFTs - Seller Certificate section. ")],-1)));function On(e,t,n,a,r,l){const d=(0,s.up)("router-link"),c=(0,s.up)("a-Popover"),p=(0,s.up)("InputNumber"),u=(0,s.up)("Button");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",Pt,[(0,s._)("div",{class:"top-item",onClick:t[0]||(t[0]=e=>l.protectionOriginBack())},[(0,s.Wm)(d,{to:"/protection"},{default:(0,s.w5)((()=>[kt])),_:1})]),(0,s._)("div",It,[(0,s.Wm)(d,{to:"/nftPortfolio"},{default:(0,s.w5)((()=>[Dt])),_:1})])]),(0,s._)("div",St,[(0,s._)("div",xt,[Mt,(0,s._)("div",null,(0,o.zw)(r.protectionInfo?.Protected),1)]),(0,s._)("div",Et,[Nt,(0,s._)("div",Lt,(0,o.zw)(r.protectionInfo?.ProtectionType),1)]),(0,s._)("div",Ut,[jt,(0,s._)("div",Ot,(0,o.zw)(r.protectionInfo?.Capacity),1)]),(0,s._)("div",Ft,[zt,(0,s._)("div",Wt,(0,o.zw)(r.protectionInfo?.Occupied),1)]),(0,s._)("div",qt,[Bt,(0,s._)("div",Vt,(0,o.zw)(r.protectionInfo?.["Premium Rate"]),1)]),(0,s._)("div",Rt,[Zt,(0,s._)("div",Ht,(0,o.zw)(r.strike),1)])]),(0,s._)("div",{class:"protection-excute",onMouseup:t[10]||(t[10]=e=>l.moveEnd())},[(0,s._)("div",Yt,[(0,s.Uk)(" If you are fully aware of the following procedures, you may proceed to buy or sell an option: "),Gt,Kt,(0,s.Uk)(" Buyers can select "),(0,s.Wm)(c,{placement:"bottom",color:"#1a2237"},{content:(0,s.w5)((()=>[Jt])),default:(0,s.w5)((()=>[Xt])),_:1}),(0,s.Uk)(" during the "),(0,s.Wm)(c,{placement:"bottom",color:"#1a2237"},{content:(0,s.w5)((()=>[$t])),default:(0,s.w5)((()=>[Qt])),_:1}),(0,s.Uk)(", pay the "),(0,s.Wm)(c,{placement:"bottom",color:"#1a2237"},{content:(0,s.w5)((()=>[en])),default:(0,s.w5)((()=>[tn])),_:1}),(0,s.Uk)(" upfront, and purchase options. Upon successful purchase, you will receive "),(0,s.Wm)(c,{placement:"bottom",color:"#1a2237"},{content:(0,s.w5)((()=>[nn])),default:(0,s.w5)((()=>[an])),_:1}),(0,s.Uk)(" as transaction records. If the time-weighted average price of aSEED reaches the strike price, which is "+(0,o.zw)(l.strikeDiscription)+", users can exercise the option; if not, the ",1),(0,s.Wm)(c,{placement:"bottom",color:"#1a2237"},{content:(0,s.w5)((()=>[sn])),default:(0,s.w5)((()=>[on])),_:1}),(0,s.Uk)(" of the option will take place at the end of the month. "),rn,ln,(0,s.Uk)(" Sellers need to select vaults to sell options within the "),(0,s.Wm)(c,{placement:"bottom",color:"#1a2237"},{content:(0,s.w5)((()=>[dn])),default:(0,s.w5)((()=>[cn])),_:1}),(0,s.Uk)(" . When you become an option seller, you'll receive "),(0,s.Wm)(c,{placement:"bottom",color:"#1a2237"},{content:(0,s.w5)((()=>[pn])),default:(0,s.w5)((()=>[un])),_:1}),(0,s.Uk)(" as records. When a buyer purchases the option, you'll gain "),(0,s.Wm)(c,{placement:"bottom",color:"#1a2237"},{content:(0,s.w5)((()=>[yn])),default:(0,s.w5)((()=>[mn])),_:1}),(0,s.Uk)(". If the aSEED price triggers the conditions for exercising the option, the underwriting capital may be used to fulfill the payout request from the option holder. Keep in mind that a part of your capital will be locked until the option's expiration or until it's exercised. ")]),(0,s._)("div",hn,[(0,s._)("div",fn,[(0,s._)("div",gn,[(0,s._)("div",{class:(0,o.C_)(r.buy),onClick:t[1]||(t[1]=e=>l.showBuyProtect())},"BUY OPTION",2),(0,s._)("div",{class:(0,o.C_)(r.underwrite),onClick:t[2]||(t[2]=e=>l.showUnderwrite())},"SELL OPTION",2)]),1==r.buyProtect?((0,s.wg)(),(0,s.iD)("div",vn,[(0,s._)("div",wn,[bn,(0,s._)("div",_n,[(0,s._)("div",Tn,[(0,s.Wm)(p,{value:r.coverage,onChange:t[3]||(t[3]=e=>this.coverage=e),min:0,precision:0},null,8,["value"])]),Cn])]),(0,s._)("div",An,[(0,s._)("div",Pn,[(0,s.Uk)(" Buy Option for Others "),(0,s._)("div",{class:(0,o.C_)(r.selectForOthers),onClick:t[4]||(t[4]=e=>l.protectForOthers())},In,2)]),(0,s.wy)((0,s._)("div",Dn,[(0,s._)("div",Sn,[(0,s.wy)((0,s._)("input",{type:"text",placeholder:"Enter beneficiary address here",maxlength:"42","onUpdate:modelValue":t[5]||(t[5]=e=>r.beneficiary=e),oninput:"value=value.replace(/[g-wyzG-WYZ]/g,'')"},null,512),[[i.nr,r.beneficiary]])])],512),[[i.F8,r.protectOtherShow]])]),(0,s.Wm)(u,{type:"primary",loading:r.caculateLoading,class:"protectBtn",onClick:t[6]||(t[6]=e=>l.caculate())},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(r.premium),1)])),_:1},8,["loading"]),(0,s.Wm)(u,{class:"protectBtn",type:"primary",onClick:t[7]||(t[7]=e=>l.doBuyCover())},{default:(0,s.w5)((()=>[(0,s.Uk)(" Buy ")])),_:1})])):((0,s.wg)(),(0,s.iD)("div",xn,[(0,s._)("div",Mn,[En,(0,s._)("div",Nn,[(0,s._)("div",Ln,[(0,s.Wm)(p,{value:r.underwriteAmount,onChange:t[8]||(t[8]=e=>this.underwriteAmount=e),min:0,precision:0},null,8,["value"])]),Un])]),jn,(0,s.Wm)(u,{type:"primary",class:"protectBtn underwrite-protectBtn",onClick:t[9]||(t[9]=e=>l.doUnderwrite())},{default:(0,s.w5)((()=>[(0,s.Uk)(" Underwrite ")])),_:1})]))])])],32)],64)}n(4912);var Fn=n(2725),zn=(n(1366),n(5835)),Wn=(n(1752),n(898));function qn(){const e="https://eth-rpc-acala.aca-api.network";return oe.Z.post(e,{id:1,jsonrpc:"2.0",method:"eth_getEthGas",params:[]})}var Bn={name:"ProtectionBtc",components:{Button:Wn.Z,InputNumber:zn.Z},data(){return{buyProtect:!0,premium:"Calculate Cost",buy:"buy-init",marks:{0:0,180:180},underwrite:"underwrite-init",selectForOthers:"select-for-others-unselected",protectOtherShow:!1,beneficiary:"",coverPeriod:25,isMoving:!1,poolAddress:"",coverage:"0",underwriteAmount:"0",protectionInfo:{},caculateLoading:!1,strike:""}},computed:{selectedWidth(){return(95*this.coverPeriod/180).toString()+"%"},globalViewerData(){return xe.state.web3Data.globalViewerData},strikeDiscription(){let e=this.strike,t=e.charAt(e.length-1);return"D"==t?this.strike:this.strike+" of the aseed price at the last option trading day for this vault"}},watch:{globalViewerData(e){this.initProtectionInfo(e)}},async mounted(){this.poolAddress=this.$route.params?.protectionBtc,xe.dispatch("protectionOriginHideDo"),this.initProtectionInfo(xe.state.web3Data.globalViewerData),this.strike=await xe.dispatch("getStrikePrice",{poolAddress:this.$route.params?.protectionBtc})},methods:{async initProtectionInfo(e){let t=xe.state.web3Data.poolAddressArr,n=await xe.dispatch("getPremiumRate",{amount:Math.pow(10,18).toString(),date:"360",contract:this.poolAddress});console.log("value",e),e.map((e=>{e.protocol===this.poolAddress&&(this.protectionInfo={Protected:t[e.protocol.toLowerCase()]?.Protected,ProtectionType:t[e.protocol.toLowerCase()]?.ProtectionType,Capacity:`${(0,Q.Z)(parseInt(e.totalValidCertificateLiquidity.toHexString(),16)).dividedBy(Math.pow(10,18)).toFixed()} aSEED`,Occupied:`${(parseInt(e.totalPendingCoverage.toHexString(),16)/parseInt(e.totalValidCertificateLiquidity.toHexString(),16).toFixed(2)*100).toFixed(4)}%`,Coverage:parseInt(e.totalPendingCoverage.toHexString(),16)/10**18+" aSEED","Premium Rate":`${n}%`,UnderwritingToken:t[e.protocol.toLowerCase()]?.Token})}))},protectionOriginBack(){xe.dispatch("protectionOriginShowAgainDo")},protectForOthers(){0==this.protectOtherShow?(this.protectOtherShow=!0,this.selectForOthers="select-for-others-selected"):(this.protectOtherShow=!1,this.selectForOthers="select-for-others-unselected",this.beneficiary="")},showBuyProtect(){this.buyProtect=!0,this.underwrite="underwrite-init",this.buy="buy-init"},showUnderwrite(){this.buyProtect=!1,this.buy="buy-unselected",this.underwrite="underwrite-selected"},async caculate(){if("0"==this.coverage)Fn.ZP.error("Please enter coverage!");else if("0"==this.coverPeriod)Fn.ZP.error("Please enter cover period!");else{this.caculateLoading=!0;let e=this.$route.params?.protectionBtc,t=await xe.dispatch("getPremiumRate",{amount:new Q.Z(this.coverage).multipliedBy(Math.pow(10,18)).toFixed(),contract:e}),n=new Q.Z(t).dividedBy(100).toFixed();this.caculateLoading=!1,this.premium=`${n} aSEED for premium`}},sliderChange(e){this.coverPeriod=e},moveEnd(){this.isMoving=!1},async doBuyCover(){if("0"==this.coverage)Fn.ZP.error("Please enter coverage!");else if("0"==this.coverPeriod)Fn.ZP.error("Please enter cover period!");else{var e;if(e=xe.state.web3Utils.currentAddressComp,""==e)xe.dispatch("linkWallet");else{let n=await xe.dispatch("getAllowance",{owner:e,spender:this.poolAddress}),a=await qn();console.log("gasRes",a?.data?.result);let i=parseInt(a?.data?.result?.gasLimit,16),s=parseInt(a?.data?.result?.gasPrice,16);var t;if(console.log("gasLimit",i),console.log("gasPrice",s),0==n)xe.dispatch("approveUsdtForMetaDefender",{spender:this.poolAddress});else t=""==this.beneficiary?e:this.beneficiary,xe.dispatch("buyCover",{poolAddress:this.poolAddress,coverage:this.coverage,policyHolder:t,gasLimit:i,gasPrice:s})}}},async doUnderwrite(){var e;if("0"==this.underwriteAmount)Fn.ZP.error("Please enter underwrite amount!");else if(e=xe.state.web3Utils.currentAddressComp,""==e)xe.dispatch("linkWallet");else{let t=await xe.dispatch("getAllowance",{owner:e,spender:this.poolAddress});console.log(t),0==t?xe.dispatch("approveUsdtForMetaDefender",{spender:this.poolAddress}):xe.dispatch("underwrite",{poolAddress:this.poolAddress,amount:this.underwriteAmount})}}},unmounted(){xe.dispatch("protectionOriginShowAgainDo")}};const Vn=(0,Ne.Z)(Bn,[["render",On],["__scopeId","data-v-686e42f4"]]);var Rn=Vn;const Zn=e=>((0,s.dD)("data-v-6f59065d"),e=e(),(0,s.Cn)(),e),Hn={class:"nft-navy"},Yn=Zn((()=>(0,s._)("div",{class:"nft-origin nft-origin1"},"Options",-1))),Gn=Zn((()=>(0,s._)("div",{class:"nft-origin"},"Seller Certificate",-1))),Kn=Zn((()=>(0,s._)("div",{class:"nft-origin nft-origin3"},"Seller Medals",-1)));function Jn(e,t,n,a,i,o){const r=(0,s.up)("router-link"),l=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",Hn,[(0,s.Wm)(r,{to:"/nftPortfolio/policyNfts"},{default:(0,s.w5)((()=>[Yn])),_:1}),(0,s.Wm)(r,{to:"/nftPortfolio/certificateNfts"},{default:(0,s.w5)((()=>[Gn])),_:1}),(0,s.Wm)(r,{to:"/nftPortfolio/medalNfts"},{default:(0,s.w5)((()=>[Kn])),_:1})]),(0,s.Wm)(l)],64)}var Xn={name:"NftPortfolio",data(){return{}},methods:{}};const $n=(0,Ne.Z)(Xn,[["render",Jn],["__scopeId","data-v-6f59065d"]]);var Qn=$n,ea=n.p+"img/left-icon.58ad9da0.svg",ta=n.p+"img/right-icon.fc6748c9.svg";const na={class:"nft-intro-and-box"},aa=(0,s._)("div",{class:"nft-intro"},[(0,s._)("div",{class:"nft-intro-content"}," You can view all the options you've purchased in a comprehensive list, sorted by Vault ID and NFT ID. Each option, whether exercised or unexercised, will be recorded here. It's vital to understand that option can be transferred at your discretion. These NFTs are evidence of your position as an option buyer, reflecting the specific vault you have engaged with. ")],-1),ia={class:"nft-box-and-page-turner"},sa={class:"nft-box"},oa={key:0,class:"no-nfts"},ra=(0,s._)("div",null,"You haven't got any NFT yet.",-1),la=[ra],da={key:1,class:"nft-list"},ca=["onClick"],pa={key:0},ua={key:1},ya={key:2},ma={key:3},ha=(0,s._)("div",{class:"nftbox1 nftbox-hide"},null,-1),fa=[ha],ga={class:"page-turner page-turner-gov"},va={key:0,class:"pagination-container"},wa={class:"pagination-text"},ba={key:1,class:"pagination-container"};function _a(e,t,n,a,r,l){const d=(0,s.up)("HandleNftsModal"),c=(0,s.up)("Pagination");return(0,s.wg)(),(0,s.iD)("div",na,[aa,(0,s._)("div",ia,[(0,s._)("div",sa,[0==l.arr.length?((0,s.wg)(),(0,s.iD)("div",oa,la)):((0,s.wg)(),(0,s.iD)("ul",da,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.arr.slice(r.nftsInPageStart,r.nftsInPageEnd),((e,t)=>((0,s.wg)(),(0,s.iD)("li",{key:t},[(0,s._)("div",{class:"nftbox1",onClick:t=>l.handleNftsPolicyInit(e)},[(0,s._)("p",null,[(0,s.Uk)(" Asset: "),(0,s._)("span",null,(0,o.zw)(e.poolName),1)]),(0,s._)("p",null,[(0,s.Uk)(" Option Id: "),(0,s._)("span",null,(0,o.zw)(e.policyId),1)]),(0,s._)("p",null,[(0,s.Uk)(" Option Payout: "),(0,s._)("span",null,(0,o.zw)(r.BigNumber(e.coverage).dividedBy(Math.pow(10,18)).toFixed())+" mUSD",1)]),(0,s._)("p",null,[(0,s.Uk)(" Status: "),(0,s._)("span",null,[e.isClaimed?((0,s.wg)(),(0,s.iD)("span",pa,"Claimed")):e.isClaimApplying?((0,s.wg)(),(0,s.iD)("span",ua,"Claim Applied")):e.isSettled?((0,s.wg)(),(0,s.iD)("span",ya,"Settled")):((0,s.wg)(),(0,s.iD)("span",ma,"Active"))])])],8,ca)])))),128)),(0,s.wy)((0,s._)("li",null,fa,512),[[i.F8,l.insertBlock]])])),(0,s.Wm)(d,{ref:"handleNftsPolicy",visible:r.visible,content:r.content,nftIndex:r.nftIndex,coverage:r.coverageOfPolicy,isClaimed:r.isClaimed,isSettled:r.isSettled,isClaimApplying:r.isClaimApplying,poolAddress:r.poolAddressOfPolicy,poolName:r.poolNameofPolicy,duration:r.duration,claimDisabled:r.claimDisabled,onCloseModal:t[0]||(t[0]=e=>r.visible=!1)},null,8,["visible","content","nftIndex","coverage","isClaimed","isSettled","isClaimApplying","poolAddress","poolName","duration","claimDisabled"])]),(0,s._)("div",ga,[(0,s.Wm)(c,{current:r.current,"onUpdate:current":t[3]||(t[3]=e=>r.current=e),total:l.arr.length,pageSize:r.pageSize,onChange:l.onPaginationChange,showSizeChanger:!1,hideOnSinglePage:0===l.arr.length},{itemRender:(0,s.w5)((({type:e,originalElement:n})=>["prev"===e?((0,s.wg)(),(0,s.iD)("div",va,[(0,s._)("div",wa,(0,o.zw)(r.pageSize*(r.current-1)+1)+" - "+(0,o.zw)(r.pageSize*r.current>l.arr.length?l.arr.length:r.pageSize*r.current)+" of "+(0,o.zw)(l.arr.length)+" items ",1),(0,s._)("img",{onClick:t[1]||(t[1]=e=>l.pageDown()),src:ea,alt:""})])):"next"===e?((0,s.wg)(),(0,s.iD)("div",ba,[(0,s._)("img",{onClick:t[2]||(t[2]=e=>l.pageUp()),src:ta,alt:""})])):((0,s.wg)(),(0,s.j4)((0,s.LL)(n),{key:2}))])),_:1},8,["current","total","pageSize","onChange","hideOnSinglePage"])])])])}n(3714);var Ta=n(5769);const Ca={class:"nft-details"},Aa={class:"nft-details-items"},Pa=(0,s._)("div",{class:"nft-details-key"},"Protected Protocol",-1),ka={class:"nft-details-v"},Ia={class:"nft-details-items"},Da=(0,s._)("div",{class:"nft-details-key"},"Coverage",-1),Sa={class:"nft-details-v"},xa={class:"nft-details-items"},Ma=(0,s._)("div",{class:"nft-details-key"},"Entered At",-1),Ea={class:"nft-details-v"},Na={class:"nft-details-items"},La=(0,s._)("div",{class:"nft-details-key"},"Effective Until",-1),Ua={class:"nft-details-v"},ja={class:"nft-details-items"},Oa=(0,s._)("div",{class:"nft-details-key"},"Status",-1),Fa={class:"nft-details-v"},za={key:0},Wa={key:1},qa={key:2},Ba={key:3},Va={class:"handle-buttons-container"},Ra={key:0},Za={key:1},Ha={key:0},Ya={key:1},Ga={class:"nft-details claim-sheet"},Ka={class:"nft-details-items"},Ja=(0,s._)("div",{class:"nft-details-key"},"The hash of your paticipation",-1),Xa={class:"nft-details-v"},$a={class:"nft-details-items"},Qa=(0,s._)("div",{class:"nft-details-key"},"The hash of Attack",-1),ei={class:"nft-details-v"},ti={class:"nft-details-items"},ni=(0,s._)("div",{class:"nft-details-key"},"Other description",-1),ai={class:"nft-details-v"},ii={class:"nft-details-items"},si=(0,s._)("div",{class:"nft-details-key"},"Contact",-1),oi={class:"nft-details-v"},ri={class:"handle-buttons-container"};function li(e,t,n,a,r,l){const d=(0,s.up)("Button"),c=(0,s.up)("Modal");return(0,s.wg)(),(0,s.j4)(c,{visible:n.visible,title:`Policy Details - ${n.nftIndex}`,centered:!0,width:"375px",footer:!1,closeIcon:l.renderCloseIcon(),onCancel:t[8]||(t[8]=e=>l.onCancelModal()),maskClosable:!1},{default:(0,s.w5)((()=>[(0,s.wy)((0,s._)("div",Ca,[(0,s._)("div",Aa,[Pa,(0,s._)("div",ka,(0,o.zw)(n.poolName),1)]),(0,s._)("div",Ia,[Da,(0,s._)("div",Sa,(0,o.zw)(r.BigNumber(n.coverage).dividedBy(Math.pow(10,18)).toFixed(2))+" mUSD ",1)]),(0,s._)("div",xa,[Ma,(0,s._)("div",Ea,(0,o.zw)(l.epochTime()),1)]),(0,s._)("div",Na,[La,(0,s._)("div",Ua,(0,o.zw)(l.epochUntilTime()),1)]),(0,s._)("div",ja,[Oa,(0,s._)("div",Fa,[n.isClaimed?((0,s.wg)(),(0,s.iD)("span",za,"Claimed")):n.isClaimApplying?((0,s.wg)(),(0,s.iD)("span",Wa,"Claim Applied")):n.isSettled?((0,s.wg)(),(0,s.iD)("span",qa,"Settled")):((0,s.wg)(),(0,s.iD)("span",Ba,"Active"))])])],512),[[i.F8,r.policyDetailsShow]]),(0,s.wy)((0,s._)("div",Va,[(0,s.Wm)(d,{class:"handle-button-ant",type:"primary",onClick:t[0]||(t[0]=e=>l.applyForClaim()),disabled:n.isClaimed||n.isClaimApplying||n.isSettled},{default:(0,s.w5)((()=>[n.isClaimed?((0,s.wg)(),(0,s.iD)("span",Ra,"Claimed")):((0,s.wg)(),(0,s.iD)("span",Za,"Claim"))])),_:1},8,["disabled"]),(0,s.Wm)(d,{class:"handle-button-ant",type:"primary",onClick:t[1]||(t[1]=e=>l.doSettle()),disabled:!l.effectiveUntilDisabled||n.isSettled},{default:(0,s.w5)((()=>[n.isSettled?((0,s.wg)(),(0,s.iD)("span",Ha,"Settled")):((0,s.wg)(),(0,s.iD)("span",Ya,"Settle"))])),_:1},8,["disabled"])],512),[[i.F8,r.policyDetailsShow]]),(0,s.wy)((0,s._)("div",Ga,[(0,s._)("div",Ka,[Ja,(0,s._)("div",Xa,[(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>r.hashValue=e)},null,512),[[i.nr,r.hashValue]])])]),(0,s._)("div",$a,[Qa,(0,s._)("div",ei,[(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>r.hashAttack=e)},null,512),[[i.nr,r.hashAttack]])])]),(0,s._)("div",ti,[ni,(0,s._)("div",ai,[(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":t[4]||(t[4]=e=>r.description=e)},null,512),[[i.nr,r.description]])])]),(0,s._)("div",ii,[si,(0,s._)("div",oi,[(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=e=>r.contact=e)},null,512),[[i.nr,r.contact]])])])],512),[[i.F8,r.claimSheetShow]]),(0,s.wy)((0,s._)("div",ri,[(0,s.Wm)(d,{class:"handle-button-ant",type:"primary",onClick:t[6]||(t[6]=e=>l.doApplyForClaim())},{default:(0,s.w5)((()=>[(0,s.Uk)("Apply")])),_:1}),(0,s.Wm)(d,{class:"handle-button-ant",type:"primary",onClick:t[7]||(t[7]=e=>l.backToDetails())},{default:(0,s.w5)((()=>[(0,s.Uk)("Back")])),_:1})],512),[[i.F8,r.claimSheetShow]])])),_:1},8,["visible","title","closeIcon"])}n(482);var di=n(1569),ci=n.p+"img/close-icon.4c5b3c36.svg",pi={components:{Modal:di.Z,Button:Wn.Z},props:["content","visible","nftIndex","coverage","isClaimed","isClaimApplying","isSettled","poolAddress","poolName","duration","claimDisabled"],data(){return{policyDetailsShow:!0,claimSheetShow:!1,hashValue:"",hashAttack:"",description:"",contact:"",BigNumber:Q.Z}},computed:{effectiveUntilDisabled(){return(xe.state.web3Data.epochTime||Date.parse(new Date))+86400*this.duration*1e3<Date.parse(new Date)}},methods:{renderCloseIcon(){return(0,s.Wm)("img",{src:ci,alt:""},null)},epochTime(){if(xe.state.web3Data.epochTime){let e=Oe()(xe.state.web3Data.epochTime).format("YYYY-MM-DD");return e}return""},epochUntilTime(){if(xe.state.web3Data.epochTime){let e=Oe()(xe.state.web3Data.epochTime+2592e6).format("YYYY-MM-DD");return e}return""},async applyForClaim(){let e=this.poolAddress,t=this.nftIndex,n=await qn(),a=parseInt(n?.data?.result?.gasLimit,16),i=parseInt(n?.data?.result?.gasPrice,16);await xe.dispatch("applyForClaim",{poolAddress:e,policyId:t,gasPrice:i,gasLimit:a})},backToDetails(){this.policyDetailsShow=!0,this.claimSheetShow=!1},onCancelModal(){this.$emit("closeModal"),this.hashValue="",this.hashAttack="",this.description="",this.contact=""},async doApplyForClaim(){const e=JSON.stringify({types:{EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],claim:[{name:"policyId",type:"string"},{name:"hashValue",type:"string"},{name:"hashAttack",type:"string"},{name:"description",type:"string"},{name:"contact",type:"string"}]},primaryType:"claim",domain:{name:"claim",version:"1",chainId:xe.state.web3Data.chainId,verifyingContract:ye},message:{policyId:this.nftIndex,hashValue:this.hashValue,hashAttack:this.hashAttack,description:this.description,contact:this.contact}}),t=xe.state.web3Utils.currentAddressComp,n=[t,e],a="eth_signTypedData_v4",i=await xe.dispatch("setSignTypedData",{method:a,params:n,from:t});console.log("signature===>",i);let s=this.poolAddress,o=this.nftIndex,r=await qn(),l=parseInt(r?.data?.result?.gasLimit,16),d=parseInt(r?.data?.result?.gasPrice,16);await xe.dispatch("applyForClaim",{poolAddress:s,policyId:o,gasPrice:d,gasLimit:l});let c={signer:xe.state.web3Utils.currentAddressComp,hashValue:this.hashValue,hashAttack:this.hashAttack,description:this.description,contact:this.contact,signature:i,policyId:o};(0,oe.Z)({method:"post",url:"https://metadefender.finance/claim/apply",data:c}).then((e=>{console.log("res===>",e)}),(e=>{console.log("error"+e)}))},async doSettle(e){let t=this.poolAddress,n=this.nftIndex,a=await qn(),i=parseInt(a?.data?.result?.gasLimit,16),s=parseInt(a?.data?.result?.gasPrice,16);await xe.dispatch("settlePolicy",{poolAddress:t,policyId:n,gasLimit:i,gasPrice:s}),console.log(e)}}};const ui=(0,Ne.Z)(pi,[["render",li]]);var yi=ui,mi={name:"PolicyNfts",components:{HandleNftsModal:yi,Pagination:Ta.ZP},data(){return{visible:!1,content:"i am nft",nftIndex:0,nftsInPageStart:0,nftsInPageEnd:9,current:1,pageSize:9,coverageOfPolicy:0,isClaimed:!1,isSettled:!1,isClaimApplying:!1,poolAddressOfPolicy:"",poolNameofPolicy:"",duration:"",claimDisabled:!0,BigNumber:Q.Z}},methods:{onPaginationChange(e,t){0!==this.arr.length&&(this.current=e,this.pageSize=t,this.nftsInPageStart=(e-1)*t,this.nftsInPageEnd=e*t)},pageUp(){this.nftsInPageStart+9>=this.arr.length||(this.nftsInPageStart+=9,this.nftsInPageEnd+=9)},pageDown(){this.nftsInPageEnd-9<=0||(this.nftsInPageStart-=9,this.nftsInPageEnd-=9)},getClaimStatus(e){return e=0==e?"Unclaimed":"Claimed",e},async handleNftsPolicyInit(e){this.visible=!0,this.nftIndex=e.policyId,this.coverageOfPolicy=e.coverage,this.isClaimed=e.isClaimed,this.isClaimApplying=e.isClaimApplying,this.isSettled=e.isSettled,this.poolAddressOfPolicy=e.protocol,this.poolNameofPolicy=e.poolName,this.duration=e.duration,this.$refs.handleNftsPolicy.backToDetails(),this.claimDisabled=e.isClaimed||e.isClaimApplying||e.isSettled,xe.dispatch("getTimestampFromEpoch",{index:e.enteredEpochIndex,epochManage:e.epochManage})}},computed:{insertBlock(){if(this.nftsInPageStart+9<=this.arr.length)return!1;{let e=this.nftsInPageEnd-this.arr.length;return e%3==1}},arr(){let e=xe.state.web3Data.policyArr,t=e.length;for(var n=0;n<t;n++){let t=e[n].protocol.toLowerCase();e[n]["poolName"]=xe.state.web3Data.poolAddressArr[t]?.Protected,e[n]["poolImage"]=xe.state.web3Data.poolAddressArr[t]?.protocolImage}let a=[],i=[];e.map((e=>{e.isClaimed||e.isClaimApplying||e.isSettled?i.push(e):a.push(e)}));let s=a.sort(((e,t)=>Number(e.policyId)-Number(t.policyId))).concat(i.sort(((e,t)=>Number(e.policyId)-Number(t.policyId))));return s}},mounted(){xe.dispatch("getPolicyNfts"),window.ethereum.on("accountsChanged",(()=>{xe.dispatch("getPolicyNfts")}))}};const hi=(0,Ne.Z)(mi,[["render",_a]]);var fi=hi;const gi={class:"nft-intro-and-box"},vi=(0,s._)("div",{class:"nft-intro"},[(0,s._)("div",{class:"nft-intro-content"}," As an option seller, every position you take up is represented as an NFT, which you can view in a list sorted by Vault ID and NFT ID. These Seller Certificate can be transferred at your discretion. Should you choose to withdraw any unused capital, be advised that a 0.3% execution fee applies for each withdrawal. The committed portion of your capital, which remains engaged until the option's expiration, stays locked in the Meta Defender contract. Upon withdrawing your uncommitted capital, it gets converted into Seller Medals. Although a portion of the capital may still be engaged within the contract, the Seller Medal will no longer reflect the active selling position. ")],-1),wi={class:"nft-box-and-page-turner"},bi={class:"nft-box"},_i={key:0,class:"no-nfts"},Ti=(0,s._)("div",null,"You haven't got any NFT yet.",-1),Ci=[Ti],Ai={key:1},Pi={class:"nft-list"},ki=["onClick"],Ii=(0,s._)("div",{class:"nftbox1 nftbox-hide"},null,-1),Di=[Ii],Si={class:"page-turner page-turner-gov"},xi={key:0,class:"pagination-container"},Mi={class:"pagination-text"},Ei={key:1,class:"pagination-container"};function Ni(e,t,n,a,r,l){const d=(0,s.up)("HandleNftsCertificateModal"),c=(0,s.up)("Pagination");return(0,s.wg)(),(0,s.iD)("div",gi,[vi,(0,s._)("div",wi,[(0,s._)("div",bi,[0==l.arr.length?((0,s.wg)(),(0,s.iD)("div",_i,Ci)):((0,s.wg)(),(0,s.iD)("div",Ai,[(0,s._)("ul",Pi,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.arr.slice(r.nftsInPageStart,r.nftsInPageEnd),((e,t)=>((0,s.wg)(),(0,s.iD)("li",{key:t},[(0,s._)("div",{class:"nftbox1",onClick:n=>{r.visible=!0,r.nftIndex=e.certificateId,r.liquidityOfCertificate=e.liquidity/10**18,r.rewardOfCertificate=l.getReward(e),r.poolNameOfCertificate=e.poolName,r.poolAddressOfCertificate=e.protocol,r.policyIndex=t,l.handleNftsCertificateInit(e)}},[(0,s._)("p",null,[(0,s.Uk)(" Underwriting: "),(0,s._)("span",null,(0,o.zw)(e.poolName),1)]),(0,s._)("p",null,[(0,s.Uk)(" Liquidity Id: "),(0,s._)("span",null,(0,o.zw)(e.certificateId),1)]),(0,s._)("p",null,[(0,s.Uk)(" Liquidity: "),(0,s._)("span",null,(0,o.zw)(r.BigNumber(e.liquidity).dividedBy(Math.pow(10,18)).toFixed())+" mUSD",1)])],8,ki)])))),128)),(0,s.wy)((0,s._)("li",null,Di,512),[[i.F8,l.insertBlock]])])])),(0,s.Wm)(d,{ref:"handleNftsCertificate",visible:r.visible,content:r.content,nftIndex:r.nftIndex,liquidity:r.liquidityOfCertificate,poolName:r.poolNameOfCertificate,poolAddress:r.poolAddressOfCertificate,reward:l.reward,policyIndex:r.policyIndex,onClose:t[0]||(t[0]=e=>r.visible=!1)},null,8,["visible","content","nftIndex","liquidity","poolName","poolAddress","reward","policyIndex"])]),(0,s._)("div",Si,[(0,s.Wm)(c,{current:r.current,"onUpdate:current":t[3]||(t[3]=e=>r.current=e),total:l.arr.length,pageSize:r.pageSize,onChange:l.onPaginationChange,showSizeChanger:!1,hideOnSinglePage:0===l.arr.length},{itemRender:(0,s.w5)((({type:e,originalElement:n})=>["prev"===e?((0,s.wg)(),(0,s.iD)("div",xi,[(0,s._)("div",Mi,(0,o.zw)(r.pageSize*(r.current-1)+1)+" - "+(0,o.zw)(r.pageSize*r.current>l.arr.length?l.arr.length:r.pageSize*r.current)+" of "+(0,o.zw)(l.arr.length)+" items ",1),(0,s._)("img",{onClick:t[1]||(t[1]=e=>l.pageDown()),src:ea,alt:""})])):"next"===e?((0,s.wg)(),(0,s.iD)("div",Ei,[(0,s._)("img",{onClick:t[2]||(t[2]=e=>l.pageUp()),src:ta,alt:""})])):((0,s.wg)(),(0,s.j4)((0,s.LL)(n),{key:2}))])),_:1},8,["current","total","pageSize","onChange","hideOnSinglePage"])])])])}const Li=e=>((0,s.dD)("data-v-89b3a8d0"),e=e(),(0,s.Cn)(),e),Ui={class:"nft-details"},ji={class:"nft-details-items"},Oi=Li((()=>(0,s._)("div",{class:"nft-details-key"},"Protection For",-1))),Fi={class:"nft-details-v"},zi={class:"nft-details-items"},Wi=Li((()=>(0,s._)("div",{class:"nft-details-key"},"Liquidity",-1))),qi={class:"nft-details-v"},Bi={class:"nft-details-items"},Vi=Li((()=>(0,s._)("div",{class:"nft-details-key"},"Withdrawable Amount",-1))),Ri={class:"nft-details-v"},Zi={class:"nft-details-items"},Hi=Li((()=>(0,s._)("div",{class:"nft-details-key"},"Claimable Premium",-1))),Yi={class:"nft-details-v"},Gi=Li((()=>(0,s._)("div",{class:"nft-details-items"},[(0,s._)("div",{class:"nft-details-key"},"Claimable Mining Rewards"),(0,s._)("div",{class:"nft-details-v"},"0 mUSD")],-1))),Ki={class:"handle-buttons-container"},Ji={class:"nft-details claim-sheet"},Xi={class:"nft-details-items"},$i=Li((()=>(0,s._)("div",{class:"nft-details-key"},"Transfer to",-1))),Qi={class:"nft-details-v"},es=Li((()=>(0,s._)("div",{class:"transfer-explain"},[(0,s._)("span",{class:"alarm"},"Alarm:"),(0,s.Uk)("Once you transfer your certificate Nft to another address,Meta Defender protocol will automotically caculate the premium rewards and mining rewards which belongs to you and have them paid into your account. Which means this part of rewards wont be tranfered together to the Nft recipient. ")],-1))),ts={class:"handle-buttons-container"};function ns(e,t,n,a,r,l){const d=(0,s.up)("Button"),c=(0,s.up)("Modal");return(0,s.wg)(),(0,s.j4)(c,{visible:n.visible,title:`Certificate Details - ${n.nftIndex}`,centered:!0,width:"375px",footer:!1,closeIcon:l.renderCloseIcon(),onCancel:t[6]||(t[6]=e=>l.onCancelModal()),maskClosable:!1},{default:(0,s.w5)((()=>[(0,s.wy)((0,s._)("div",Ui,[(0,s._)("div",ji,[Oi,(0,s._)("div",Fi,(0,o.zw)(n.poolName),1)]),(0,s._)("div",zi,[Wi,(0,s._)("div",qi,(0,o.zw)(n.liquidity.toFixed(2))+" mUSD",1)]),(0,s._)("div",Bi,[Vi,(0,s._)("div",Ri,(0,o.zw)(l.withdrawAmount)+" mUSD",1)]),(0,s._)("div",Zi,[Hi,(0,s._)("div",Yi,(0,o.zw)(n.reward)+" mUSD",1)]),Gi],512),[[i.F8,r.policyDetailsShow]]),(0,s.wy)((0,s._)("div",Ki,[(0,s.Wm)(d,{class:"handle-button-ant",type:"primary",onClick:t[0]||(t[0]=e=>l.doTakeRewards()),disabled:0===Number(n.reward)},{default:(0,s.w5)((()=>[(0,s.Uk)("Take Rewards")])),_:1},8,["disabled"]),(0,s.Wm)(d,{class:"handle-button-ant",type:"primary",onClick:t[1]||(t[1]=e=>l.applyForClaim())},{default:(0,s.w5)((()=>[(0,s.Uk)("Transfer")])),_:1}),(0,s.Wm)(d,{class:"handle-button-ant",type:"primary",onClick:t[2]||(t[2]=e=>l.doRemoveLiquidity())},{default:(0,s.w5)((()=>[(0,s.Uk)("Remove Liquidity")])),_:1})],512),[[i.F8,r.policyDetailsShow]]),(0,s.wy)((0,s._)("div",Ji,[(0,s._)("div",Xi,[$i,(0,s._)("div",Qi,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>r.transferToAddress=e),type:"text",oninput:"value=value.replace(/[g-wyzG-WYZ]/g,'')",maxlength:"42"},null,512),[[i.nr,r.transferToAddress]])])]),es],512),[[i.F8,r.claimSheetShow]]),(0,s.wy)((0,s._)("div",ts,[(0,s.Wm)(d,{class:"handle-button-ant",type:"primary",onClick:t[4]||(t[4]=e=>l.doTransferCertificate())},{default:(0,s.w5)((()=>[(0,s.Uk)("Transfer")])),_:1}),(0,s.Wm)(d,{class:"handle-button-ant",type:"primary",onClick:t[5]||(t[5]=e=>l.backToDetails())},{default:(0,s.w5)((()=>[(0,s.Uk)("Back")])),_:1})],512),[[i.F8,r.claimSheetShow]])])),_:1},8,["visible","title","closeIcon"])}var as={components:{Modal:di.Z,Button:Wn.Z},props:["content","visible","nftIndex","liquidity","reward","poolName","poolAddress","policyIndex"],data(){return{policyDetailsShow:!0,claimSheetShow:!1,handleNfts:"handle-nfts",transferToAddress:""}},computed:{withdrawAmount(){return xe.state.web3Data.withdrawAmount}},methods:{renderCloseIcon(){return(0,s.Wm)("img",{src:ci,alt:""},null)},applyForClaim(){this.policyDetailsShow=!1,this.claimSheetShow=!0,this.handleNfts="handle-nfts-nobackground"},onCancelModal(){this.$emit("close"),this.transferToAddress=""},backToDetails(){this.policyDetailsShow=!0,this.claimSheetShow=!1,this.handleNfts="handle-nfts"},async doTakeRewards(){let e=this.poolAddress,t=this.nftIndex,n=await qn(),a=parseInt(n?.data?.result?.gasLimit,16),i=parseInt(n?.data?.result?.gasPrice,16);await xe.dispatch("takeRewards",{poolAddress:e,certificateId:t,gasLimit:a,gasPrice:i})},async doRemoveLiquidity(){let e=this.poolAddress,t=this.nftIndex,n=await qn(),a=parseInt(n?.data?.result?.gasLimit,16),i=parseInt(n?.data?.result?.gasPrice,16);await xe.dispatch("removeLiquidity",{poolAddress:e,certificateId:t,gasLimit:a,gasPrice:i}),this.$emit("close")},async doTransferCertificate(){if(""==this.transferToAddress)Fn.ZP.error("Please enter the address which will receive this certificate. ");else{var e=xe.state.web3Utils.currentAddressComp;let t=this.poolAddress,n=this.transferToAddress,a=this.nftIndex,i=await qn(),s=parseInt(i?.data?.result?.gasLimit,16),o=parseInt(i?.data?.result?.gasPrice,16);await xe.dispatch("transferCertificate",{poolAddress:t,from:e,to:n,certificateId:a,gasLimit:s,gasPrice:o}).then((e=>{"Transferring certificate failed"==e?console.log(e):(xe.state.web3Data.certificateArr.splice(this.policyIndex,1),this.$emit("close"))}),(e=>{console.log(e)}))}}}};const is=(0,Ne.Z)(as,[["render",ns],["__scopeId","data-v-89b3a8d0"]]);var ss=is,os={name:"certificateNfts",components:{HandleNftsCertificateModal:ss,Pagination:Ta.ZP},data(){return{visible:!1,content:"i am nft",nftIndex:0,nftsInPageStart:0,nftsInPageEnd:9,current:1,pageSize:9,liquidityOfCertificate:0,poolNameOfCertificate:"",poolAddressOfCertificate:"",poolAddress:"",rewardOfCertificate:"0",policyIndex:"",BigNumber:Q.Z}},methods:{onPaginationChange(e,t){this.current=e,this.pageSize=t,this.nftsInPageStart=(e-1)*t,this.nftsInPageEnd=e*t},pageUp(){this.nftsInPageStart+9>=this.arr.length||(this.nftsInPageStart+=9,this.nftsInPageEnd+=9)},pageDown(){this.nftsInPageEnd-9<=0||(this.nftsInPageStart-=9,this.nftsInPageEnd-=9)},getCertificatePoolName(e){return xe.state.web3Data.poolAddressArr[e]?.Protected},async getReward(e){let t=e.certificateId,n=e.protocol;await xe.dispatch("getRewards",{certificateId:t,poolAddress:n})},handleNftsCertificateInit(e){xe.dispatch("getWithdrawableAmount",{certificateId:e.certificateId,protocol:e.protocol}),this.$refs.handleNftsCertificate.backToDetails()}},computed:{insertBlock(){if(this.nftsInPageStart+9<=this.arr.length)return!1;{let e=this.nftsInPageEnd-this.arr.length;return e%3==1}},arr(){let e=xe.state.web3Data.certificateArr;e.sort(((e,t)=>Number(e.certificateId)-Number(t.certificateId)));let t=e.length;for(var n=0;n<t;n++){let t=e[n].protocol.toLowerCase();e[n]["poolName"]=xe.state.web3Data.poolAddressArr[t]?.Protected,e[n]["poolImage"]=xe.state.web3Data.poolAddressArr[t]?.protocolImage}return e},reward(){let e=xe.state.web3Data.reward;return e}},mounted(){xe.dispatch("getCertificateNfts"),window.ethereum.on("accountsChanged",(()=>{xe.dispatch("getCertificateNfts")}))}};const rs=(0,Ne.Z)(os,[["render",Ni]]);var ls=rs,ds=n.p+"img/governance.93ce856a.svg";const cs=e=>((0,s.dD)("data-v-0af6e024"),e=e(),(0,s.Cn)(),e),ps=cs((()=>(0,s._)("div",{class:"protection-intro"},[(0,s._)("div",{class:"protection-intro-content"},[(0,s._)("div",{class:"protection-intro-content-title"},[(0,s._)("img",{src:ds,alt:"",class:"protection-intro-content-pic"}),(0,s._)("div",null,"Enjoy the benefits of Governance Mining!")]),(0,s.Uk)(" The assessment of claims made to Meta Defender is contingent upon a completely decentralized governance structure. To encourage active participation in this process, Meta Defender offers special incentives at every step. "),(0,s._)("br"),(0,s.Uk)(" As a participant, you have the opportunity to act as an assessor for each claim application using veDEF tokens. These tokens will be locked throughout the assessment period, with an additional 72 hours for review, in exchange for voting incentives. "),(0,s._)("br"),(0,s.Uk)(" Additionally, you can assist in settling policies that expire without a claim application, earning a deposit while the policy itself is purchased, as a reward. Please note that within the first 48 hours after expiration, this option is only available to the policy beneficiary. ")])],-1))),us={class:"policies-for-cancel"},ys=cs((()=>(0,s._)("ul",null,[(0,s._)("li",null,[(0,s._)("div",{class:"protection-li protection-args"},[(0,s._)("div",null,"Protected Protocol"),(0,s._)("div",null,"Policy ID"),(0,s._)("div",null,"Coverage"),(0,s._)("div",null,"Deposit"),(0,s._)("div",null,"Effective Until"),(0,s._)("div",null,"Settle")])])],-1))),ms={class:"protection-li protection-ins"},hs=cs((()=>(0,s._)("div",null,"10USD",-1))),fs={key:0},gs={key:1},vs={class:"page-turner page-turner-gov"},ws={key:0,class:"pagination-container"},bs={class:"pagination-text"},_s={key:1,class:"pagination-container"};function Ts(e,t,n,a,r,l){const d=(0,s.up)("Button"),c=(0,s.up)("Spin"),p=(0,s.up)("Pagination"),u=(0,s.up)("TabPane"),y=(0,s.up)("ClaimPage"),m=(0,s.up)("AssessmentPage"),h=(0,s.up)("Tabs");return(0,s.wg)(),(0,s.iD)(s.HY,null,[ps,(0,s.Wm)(h,{activeKey:r.activeKey,onChange:l.changeTab,class:"tabs-container"},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{key:"Settle",tab:"Settle"},{default:(0,s.w5)((()=>[(0,s._)("div",us,[ys,(0,s.Wm)(c,{spinning:r.governanceListLoading,wrapperClassName:"governance-container"},{default:(0,s.w5)((()=>[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.allEffectivePolicyArr.slice(r.policyPageStart,r.policyInPageEnd),((t,n)=>((0,s.wg)(),(0,s.iD)("li",{key:n},[(0,s._)("div",ms,[(0,s._)("div",null,(0,o.zw)(l.getPoolName(t.protocol)),1),(0,s._)("div",null,(0,o.zw)(t.policyId),1),(0,s._)("div",null,(0,o.zw)(t.coverage)+"USD",1),hs,(0,s._)("div",null,[r.address.toLowerCase()===t.beneficiary?((0,s.wg)(),(0,s.iD)("span",fs,(0,o.zw)(e.$moment(1e3*t.timestamp+864e5*Number(t.duration)).format("YYYY-MM-DD HH:mm:ss")),1)):((0,s.wg)(),(0,s.iD)("span",gs,(0,o.zw)(e.$moment(1e3*t.timestamp+864e5*(Number(t.duration)+3)).format("YYYY-MM-DD HH:mm:ss")),1))]),(0,s._)("div",null,[(0,s.Wm)(d,{class:"handle-button-ant",type:"primary",disabled:l.isSettleDisabled(t),onClick:e=>l.doSettle(t,n)},{default:(0,s.w5)((()=>[(0,s.Uk)("Settle")])),_:2},1032,["disabled","onClick"])])])])))),128))])])),_:1},8,["spinning"])]),(0,s.wy)((0,s._)("div",vs,[(0,s.Wm)(p,{current:r.current,"onUpdate:current":t[2]||(t[2]=e=>r.current=e),total:r.allEffectivePolicyArr.length,pageSize:r.pageSize,onChange:l.onPaginationChange,showSizeChanger:!1,hideOnSinglePage:0===r.allEffectivePolicyArr.length},{itemRender:(0,s.w5)((({type:e,originalElement:n})=>["prev"===e?((0,s.wg)(),(0,s.iD)("div",ws,[(0,s._)("div",bs,(0,o.zw)(r.pageSize*(r.current-1)+1)+" - "+(0,o.zw)(r.pageSize*r.current>r.allEffectivePolicyArr.length?r.allEffectivePolicyArr.length:r.pageSize*r.current)+" of "+(0,o.zw)(r.allEffectivePolicyArr.length)+" items ",1),(0,s._)("img",{onClick:t[0]||(t[0]=e=>l.pageDownGov()),src:ea,alt:""})])):"next"===e?((0,s.wg)(),(0,s.iD)("div",_s,[(0,s._)("img",{onClick:t[1]||(t[1]=e=>l.pageUpGov()),src:ta,alt:""})])):((0,s.wg)(),(0,s.j4)((0,s.LL)(n),{key:2}))])),_:1},8,["current","total","pageSize","onChange","hideOnSinglePage"])],512),[[i.F8,!r.governanceListLoading]])])),_:1}),(0,s.Wm)(u,{key:"claimPage",tab:"Claim"},{default:(0,s.w5)((()=>[(0,s.Wm)(y)])),_:1}),(0,s.Wm)(u,{key:"Assessment",tab:"Assessment"},{default:(0,s.w5)((()=>[(0,s.Wm)(m)])),_:1})])),_:1},8,["activeKey","onChange"])],64)}n(1387);var Cs=n(3023);const As={class:"claim-container"};function Ps(e,t,n,a,i,o){return(0,s.wg)(),(0,s.iD)("div",As,"Coming soon ...")}var ks={name:"ClaimPage",data(){return{}}};const Is=(0,Ne.Z)(ks,[["render",Ps],["__scopeId","data-v-29c45a34"]]);var Ds=Is;const Ss={class:"assessment-container"};function xs(e,t,n,a,i,o){return(0,s.wg)(),(0,s.iD)("div",Ss,"Coming soon ...")}var Ms={name:"AssessmentPage",data(){return{}}};const Es=(0,Ne.Z)(Ms,[["render",xs],["__scopeId","data-v-6a57deae"]]);var Ns=Es;const{TabPane:Ls}=Cs.Z;var Us={name:"governancePage",components:{Pagination:Ta.ZP,Spin:gt.Z,Button:Wn.Z,Tabs:Cs.Z,TabPane:Ls,ClaimPage:Ds,AssessmentPage:Ns},data(){return{governanceListLoading:!0,allEffectivePolicyArr:[],policyPageStart:0,policyInPageEnd:6,current:1,pageSize:6,address:xe.state.web3Utils.currentAddressComp,activeKey:"Settle"}},computed:{currentAddress(){return xe.state.web3Utils.currentAddressComp}},watch:{currentAddress(e){this.address=e}},methods:{changeTab(e){this.activeKey=e},onPaginationChange(e,t){this.current=e,this.pageSize=t,this.policyPageStart=(e-1)*t,this.policyInPageEnd=e*t},pageUpGov(){this.policyPageStart+this.pageSize>=this.allEffectivePolicyArr.length||(this.policyPageStart+=this.pageSize,this.policyInPageEnd+=this.pageSize)},pageDownGov(){this.policyInPageEnd-this.pageSize<=0||(this.policyPageStart-=this.pageSize,this.policyInPageEnd-=this.pageSize)},async doSettle(e,t){var n;if(n=xe.state.web3Utils.currentAddressComp,""==n)xe.dispatch("linkWallet");else{let n=e.protocol,a=e.policyId,i=await qn(),s=parseInt(i?.data?.result?.gasLimit,16),o=parseInt(i?.data?.result?.gasPrice,16);await xe.dispatch("settlePolicy",{poolAddress:n,policyId:a,gasLimit:s,gasPrice:o}).then((e=>{"Settling policy failed"==e?console.log(e):this.allEffectivePolicyArr.splice(t,1)}),(e=>{console.log(e)}))}},getPoolName(e){return xe.state.web3Data.poolAddressArr[e]?.Protected},isSettleDisabled(e){return this.address.toLowerCase()!==e.beneficiary&&1e3*e.timestamp+864e5*(Number(e.duration)+3)>(new Date).valueOf()||this.address.toLowerCase()===e.beneficiary&&1e3*e.timestamp+864e5*Number(e.duration)>(new Date).valueOf()}},mounted(){oe.Z.defaults.baseURL="https://metadefender.shop/",(0,oe.Z)({method:"post",url:"",data:{query:"query MyQuery {\n                  policies(filter: {isSettled: {equalTo:false}}) {\n                    nodes{\n                      sPS\n                      coverage\n                      duration\n                      enteredEpochIndex\n                      fee\n                      id\n                      isClaimApplying\n                      isClaimed\n                      isSettled\n                      standardRisk\n                      policyId\n                      beneficiary\n                      protocol\n                      timestamp\n                    }\n                  }\n                }"}}).then((e=>{this.governanceListLoading=!1;let t=e.data.data.policies.nodes;t.map((e=>{e.coverage=new Q.Z(e.coverage).dividedBy(Math.pow(10,18)).toFixed()}));let n=[],a=[];t.map((e=>{this.isSettleDisabled(e)?n.push(e):a.push(e)})),this.allEffectivePolicyArr=a.sort(((e,t)=>1e3*e.timestamp+864e5*(Number(e.duration)+1)>1e3*t.timestamp+864e5*(Number(t.duration)+1)?1:-1)).concat(n.sort(((e,t)=>1e3*e.timestamp+864e5*(Number(e.duration)+1)>1e3*t.timestamp+864e5*(Number(t.duration)+1)?1:-1)))}),(e=>{this.governanceListLoading=!1,console.log(e)}))}};const js=(0,Ne.Z)(Us,[["render",Ts],["__scopeId","data-v-0af6e024"]]);var Os=js;const Fs=e=>((0,s.dD)("data-v-6b6b2e67"),e=e(),(0,s.Cn)(),e),zs=(0,s.uE)('<div class="protection-info" data-v-6b6b2e67><div class="protection-protocol" data-v-6b6b2e67><div data-v-6b6b2e67><img src="'+Tt+'" alt="" data-v-6b6b2e67></div><div data-v-6b6b2e67>veDEF Staking Dashboard</div></div><div class="protection-type" data-v-6b6b2e67><div class="info-title" data-v-6b6b2e67>My veDEF</div><div class="info-info" data-v-6b6b2e67>N/A</div></div><div class="protection-capacity" data-v-6b6b2e67><div class="info-title" data-v-6b6b2e67>My veDEF Locked</div><div class="info-info" data-v-6b6b2e67>N/A</div></div><div class="protection-useable" data-v-6b6b2e67><div class="info-title" data-v-6b6b2e67>veDEF Total Supply</div><div class="info-info" data-v-6b6b2e67>N/A</div></div><div class="protection-useable" data-v-6b6b2e67><div class="info-title" data-v-6b6b2e67>veDEF Total Locked</div><div class="info-info" data-v-6b6b2e67>N/A</div></div><div class="protection-rate" data-v-6b6b2e67><div class="info-title" data-v-6b6b2e67>Averaged Locked In Years</div><div class="info-info" data-v-6b6b2e67>N/A</div></div></div>',1),Ws=Fs((()=>(0,s._)("div",{class:"protection-agreement"},[(0,s.Uk)(" To participate in Meta Defender governance, you can stake your DEF into veDEF. The amount of veDEF you can receive is proportional to the locked amount and locked period. For example, locking 1 DEF for 360 days will earn you 1 veDEF, while locking for 180 days will earn you 0.5 veDEF. "),(0,s._)("br"),(0,s.Uk)(" With veDEF, you can vote on the liquidity redistribution vault of Meta Defender's capital pool, act as an assessor in claim assessments, and earn platform fees in the form of DEF. For more information, please refer to our tokenomics section in Gitbook. ")],-1))),qs={class:"protection-buy-or-underwrite"},Bs={class:"select"},Vs={key:0,class:"amount-container"},Rs={class:"amount"},Zs=Fs((()=>(0,s._)("div",{class:"amount-title"},"Amount",-1))),Hs={class:"amount-input amount-input-left-l"},Ys={class:"amount-input-box"},Gs=Fs((()=>(0,s._)("div",{class:"amount-token"},"DEF",-1))),Ks={class:"amount"},Js=Fs((()=>(0,s._)("div",{class:"amount-title"},"Stake period ( 180 Days Most )",-1))),Xs={class:"amount-input amount-input-slider"},$s={class:"amount-input-box amount-input-box-slider"},Qs={class:"amount-token amount-token-days"},eo=Fs((()=>(0,s._)("div",{class:"amount-token-days-day"},"Days",-1))),to={key:1,class:"amount-container"},no={class:"amount"},ao=Fs((()=>(0,s._)("div",{class:"amount-title"},"Amount",-1))),io={class:"amount-input amount-input-left-l"},so={class:"amount-input-box"},oo=Fs((()=>(0,s._)("div",{class:"amount-token"},"veDEF",-1))),ro=Fs((()=>(0,s._)("div",{class:"caculate-and-pay caculate-and-pay2"},[(0,s._)("div",{class:"caculate-and-pay-content underwriter-alert"},[(0,s._)("div",null,"The amount of veDEF you could unstake is:"),(0,s._)("div",null,[(0,s._)("strong",null,"327"),(0,s.Uk)(" veDEF")]),(0,s._)("p",null,"I want to re-stake those veDEF")])],-1)));function lo(e,t,n,a,i,r){const l=(0,s.up)("InputNumber"),d=(0,s.up)("Slider"),c=(0,s.up)("Button");return(0,s.wg)(),(0,s.iD)(s.HY,null,[zs,(0,s._)("div",{class:"protection-excute",onMouseup:t[8]||(t[8]=e=>r.moveEnd())},[Ws,(0,s._)("div",qs,[(0,s._)("div",Bs,[(0,s._)("div",{class:(0,o.C_)(i.buy),onClick:t[0]||(t[0]=e=>r.showBuyProtect())},"STAKE",2),(0,s._)("div",{class:(0,o.C_)(i.underwrite),onClick:t[1]||(t[1]=e=>r.showUnderwrite())},"UNSTAKE",2)]),1==i.buyProtect?((0,s.wg)(),(0,s.iD)("div",Vs,[(0,s._)("div",Rs,[Zs,(0,s._)("div",Hs,[(0,s._)("div",Ys,[(0,s.Wm)(l,{value:i.coverage,onChange:t[2]||(t[2]=e=>this.coverage=e),min:0,precision:0},null,8,["value"])]),Gs])]),(0,s._)("div",Ks,[Js,(0,s._)("div",Xs,[(0,s._)("div",$s,[(0,s.Wm)(d,{class:"slider-line",max:180,onChange:r.sliderChange,value:i.coverPeriod,marks:i.marks},null,8,["onChange","value","marks"])]),(0,s._)("div",Qs,[(0,s.Wm)(l,{value:i.coverPeriod,onChange:t[3]||(t[3]=e=>this.coverPeriod=e),max:180,min:0,precision:0},null,8,["value"]),eo])])]),(0,s.Wm)(c,{type:"primary",loading:i.caculateLoading,class:"protectBtn",onClick:t[4]||(t[4]=e=>r.caculate())},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(i.premium),1)])),_:1},8,["loading"]),(0,s.Wm)(c,{class:"protectBtn",type:"primary",onClick:t[5]||(t[5]=e=>r.doBuyCover()),disabled:!0},{default:(0,s.w5)((()=>[(0,s.Uk)(" Stake ")])),_:1})])):((0,s.wg)(),(0,s.iD)("div",to,[(0,s._)("div",no,[ao,(0,s._)("div",io,[(0,s._)("div",so,[(0,s.Wm)(l,{value:i.underwriteAmount,onChange:t[6]||(t[6]=e=>this.underwriteAmount=e),min:0,precision:0},null,8,["value"])]),oo])]),ro,(0,s.Wm)(c,{type:"primary",class:"protectBtn",onClick:t[7]||(t[7]=e=>r.doUnderwrite())},{default:(0,s.w5)((()=>[(0,s.Uk)(" UnStake ")])),_:1})]))])],32)],64)}n(997);var co=n(7486),po={name:"StakePage",components:{Slider:co.Z,Button:Wn.Z,InputNumber:zn.Z},data(){return{buyProtect:!0,premium:"Calculate veDEF",buy:"buy-init",marks:{0:0,180:180},underwrite:"underwrite-init",selectForOthers:"select-for-others-unselected",protectOtherShow:!1,beneficiary:"",coverPeriod:180,isMoving:!1,poolAddress:"",coverage:"0",underwriteAmount:"0",protectionInfo:{},caculateLoading:!1}},computed:{selectedWidth(){return(95*this.coverPeriod/180).toString()+"%"}},watch:{},mounted(){},methods:{showBuyProtect(){this.buyProtect=!0,this.underwrite="underwrite-init",this.buy="buy-init"},showUnderwrite(){this.buyProtect=!1,this.buy="buy-unselected",this.underwrite="underwrite-selected"},async caculate(){"0"==this.coverage?Fn.ZP.error("Please enter coverage!"):"0"==this.coverPeriod?Fn.ZP.error("Please enter cover period!"):console.log("123")},sliderChange(e){this.coverPeriod=e},moveEnd(){this.isMoving=!1},async doBuyCover(){"0"==this.coverage?Fn.ZP.error("Please enter coverage!"):"0"==this.coverPeriod?Fn.ZP.error("Please enter cover period!"):console.log("123")},async doUnderwrite(){var e;if("0"==this.underwriteAmount)Fn.ZP.error("Please enter underwrite amount!");else if(e=xe.state.web3Utils.currentAddressComp,""==e)xe.dispatch("linkWallet");else{let t=await xe.dispatch("getAllowance",{owner:e,spender:this.poolAddress});console.log(t),0==t?xe.dispatch("approveUsdtForMetaDefender",{spender:this.poolAddress}):xe.dispatch("underwrite",{poolAddress:this.poolAddress,amount:this.underwriteAmount})}}},unmounted(){xe.dispatch("protectionOriginShowAgainDo")}};const uo=(0,Ne.Z)(po,[["render",lo],["__scopeId","data-v-6b6b2e67"]]);var yo=uo;const mo={class:"nft-intro-and-box"},ho=(0,s._)("div",{class:"nft-intro"},[(0,s._)("div",{class:"nft-intro-content"}," Find a detailed list of all your Seller Medals, sorted by Vault ID and NFT ID, in this section. These NFTs can be transferred at your discretion. When the option associated with a Seller Medal expires without being exercised, the corresponding capital is freed, allowing the owner to withdraw it, subject to a 0.3% execution fee. ")],-1),fo={class:"nft-box-and-page-turner"},go={class:"nft-box"},vo={key:0,class:"no-nfts"},wo=(0,s._)("div",null,"You haven't got any NFT yet.",-1),bo=[wo],_o={key:1},To={class:"nft-list"},Co=["onClick"],Ao=(0,s._)("p",null,[(0,s.Uk)(" Medal Level: "),(0,s._)("span",null,"normal")],-1),Po=(0,s._)("div",{class:"nftbox1 nftbox-hide"},null,-1),ko=[Po],Io={class:"page-turner page-turner-gov"},Do={key:0,class:"pagination-container"},So={class:"pagination-text"},xo={key:1,class:"pagination-container"};function Mo(e,t,n,a,r,l){const d=(0,s.up)("HandleNftsMedalsModal"),c=(0,s.up)("Pagination");return(0,s.wg)(),(0,s.iD)("div",mo,[ho,(0,s._)("div",fo,[(0,s._)("div",go,[0==l.arr.length?((0,s.wg)(),(0,s.iD)("div",vo,bo)):((0,s.wg)(),(0,s.iD)("div",_o,[(0,s._)("ul",To,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.arr.slice(r.nftsInPageStart,r.nftsInPageEnd),((e,t)=>((0,s.wg)(),(0,s.iD)("li",{key:t},[(0,s._)("div",{class:"nftbox1",onClick:n=>{r.visible=!0,r.nftIndex=e.certificateId,r.liquidityOfCertificate=r.BigNumber(e.liquidity).dividedBy(Math.pow(10,18)).toFixed(),r.poolNameOfCertificate=e.poolName,r.poolAddressOfCertificate=e.protocol,r.policyIndex=t,l.handleNftsMedalsInit(),r.medalValues=l.getMedalValues(t)}},[(0,s._)("p",null,[(0,s.Uk)(" Underwriting: "),(0,s._)("span",null,(0,o.zw)(e.poolName),1)]),(0,s._)("p",null,[(0,s.Uk)(" Liquidity Id: "),(0,s._)("span",null,(0,o.zw)(e.certificateId),1)]),Ao],8,Co)])))),128)),(0,s.wy)((0,s._)("li",null,ko,512),[[i.F8,l.insertBlock]])])])),(0,s.Wm)(d,{ref:"handleNftsMedals",visible:r.visible,content:r.content,nftIndex:r.nftIndex,liquidity:r.liquidityOfCertificate,poolName:r.poolNameOfCertificate,poolAddress:r.poolAddressOfCertificate,policyIndex:r.policyIndex,medalSPS:l.medalSPS,medalWithdraw:l.medalWithdraw,onClose:t[0]||(t[0]=e=>r.visible=!1)},null,8,["visible","content","nftIndex","liquidity","poolName","poolAddress","policyIndex","medalSPS","medalWithdraw"])]),(0,s._)("div",Io,[(0,s.Wm)(c,{current:r.current,"onUpdate:current":t[3]||(t[3]=e=>r.current=e),total:l.arr.length,pageSize:r.pageSize,onChange:l.onPaginationChange,showSizeChanger:!1,hideOnSinglePage:0===l.arr.length},{itemRender:(0,s.w5)((({type:e,originalElement:n})=>["prev"===e?((0,s.wg)(),(0,s.iD)("div",Do,[(0,s._)("div",So,(0,o.zw)(r.pageSize*(r.current-1)+1)+" - "+(0,o.zw)(r.pageSize*r.current>l.arr.length?l.arr.length:r.pageSize*r.current)+" of "+(0,o.zw)(l.arr.length)+" items ",1),(0,s._)("img",{onClick:t[1]||(t[1]=e=>l.pageDown()),src:ea,alt:""})])):"next"===e?((0,s.wg)(),(0,s.iD)("div",xo,[(0,s._)("img",{onClick:t[2]||(t[2]=e=>l.pageUp()),src:ta,alt:""})])):((0,s.wg)(),(0,s.j4)((0,s.LL)(n),{key:2}))])),_:1},8,["current","total","pageSize","onChange","hideOnSinglePage"])])])])}const Eo=e=>((0,s.dD)("data-v-71d7d8a2"),e=e(),(0,s.Cn)(),e),No={class:"nft-details"},Lo={class:"nft-details-items"},Uo=Eo((()=>(0,s._)("div",{class:"nft-details-key"},"Origin Protection For",-1))),jo={class:"nft-details-v"},Oo={class:"nft-details-items"},Fo=Eo((()=>(0,s._)("div",{class:"nft-details-key"},"Locked Liquidity",-1))),zo={class:"nft-details-v"},Wo={class:"nft-details-items"},qo=Eo((()=>(0,s._)("div",{class:"nft-details-key"},"Withdrawable Amount",-1))),Bo={class:"nft-details-v"},Vo={class:"nft-details-items"},Ro=Eo((()=>(0,s._)("div",{class:"nft-details-key"},"Initial Liquidity",-1))),Zo={class:"nft-details-v"},Ho=Eo((()=>(0,s._)("div",{class:"nft-details-items"},[(0,s._)("div",{class:"nft-details-key"},"Medal Level"),(0,s._)("div",{class:"nft-details-v"},"Normal")],-1))),Yo={class:"handle-buttons-container"},Go={class:"nft-details claim-sheet"},Ko={class:"nft-details-items"},Jo=Eo((()=>(0,s._)("div",{class:"nft-details-key"},"Transfer to",-1))),Xo={class:"nft-details-v"},$o=Eo((()=>(0,s._)("div",{class:"transfer-explain"},[(0,s._)("span",{class:"alarm"},"Alarm:"),(0,s.Uk)("Once you transfer your Medal NFT to another address,Meta Defender protocol will automotically caculate current withdrawable cash which belongs to you and have them paid into your account. Which means this part of cash wont be tranfered together to the NFT recipient. ")],-1))),Qo={class:"handle-buttons-container"};function er(e,t,n,a,r,l){const d=(0,s.up)("Button"),c=(0,s.up)("Modal");return(0,s.wg)(),(0,s.j4)(c,{visible:n.visible,title:`Medal Details - ${n.nftIndex}`,centered:!0,width:"375px",footer:!1,closeIcon:l.renderCloseIcon(),onCancel:t[5]||(t[5]=e=>l.onCancelModal()),maskClosable:!1},{default:(0,s.w5)((()=>[(0,s.wy)((0,s._)("div",No,[(0,s._)("div",Lo,[Uo,(0,s._)("div",jo,(0,o.zw)(n.poolName),1)]),(0,s._)("div",Oo,[Fo,(0,s._)("div",zo,(0,o.zw)((n.medalSPS*n.liquidity).toFixed(2))+" mUSD ",1)]),(0,s._)("div",Wo,[qo,(0,s._)("div",Bo,(0,o.zw)(n.medalWithdraw)+" mUSD",1)]),(0,s._)("div",Vo,[Ro,(0,s._)("div",Zo,(0,o.zw)(n.liquidity)+" mUSD",1)]),Ho],512),[[i.F8,r.policyDetailsShow]]),(0,s.wy)((0,s._)("div",Yo,[(0,s.Wm)(d,{class:"handle-button-ant",type:"primary",onClick:t[0]||(t[0]=e=>l.applyForClaim())},{default:(0,s.w5)((()=>[(0,s.Uk)("Transfer")])),_:1}),(0,s.Wm)(d,{class:"handle-button-ant",type:"primary",onClick:t[1]||(t[1]=e=>l.doRemoveLiquidityAfterExit())},{default:(0,s.w5)((()=>[(0,s.Uk)("Remove Liquidity")])),_:1})],512),[[i.F8,r.policyDetailsShow]]),(0,s.wy)((0,s._)("div",Go,[(0,s._)("div",Ko,[Jo,(0,s._)("div",Xo,[(0,s.wy)((0,s._)("input",{type:"text",oninput:"value=value.replace(/[g-wyzG-WYZ]/g,'')",maxlength:"42","onUpdate:modelValue":t[2]||(t[2]=e=>r.transferToAddress=e)},null,512),[[i.nr,r.transferToAddress]])])]),$o],512),[[i.F8,r.claimSheetShow]]),(0,s.wy)((0,s._)("div",Qo,[(0,s.Wm)(d,{class:"handle-button-ant",type:"primary",onClick:t[3]||(t[3]=e=>l.doTransferMedal())},{default:(0,s.w5)((()=>[(0,s.Uk)("Transfer")])),_:1}),(0,s.Wm)(d,{class:"handle-button-ant",type:"primary",onClick:t[4]||(t[4]=e=>l.backToDetails())},{default:(0,s.w5)((()=>[(0,s.Uk)("Back")])),_:1})],512),[[i.F8,r.claimSheetShow]])])),_:1},8,["visible","title","closeIcon"])}var tr={components:{Modal:di.Z,Button:Wn.Z},props:["content","visible","nftIndex","liquidity","reward","poolName","poolAddress","policyIndex","medalSPS","medalWithdraw"],data(){return{policyDetailsShow:!0,claimSheetShow:!1,handleNfts:"handle-nfts",transferToAddress:""}},methods:{renderCloseIcon(){return(0,s.Wm)("img",{src:ci,alt:""},null)},onCancelModal(){this.$emit("close"),this.transferToAddress=""},applyForClaim(){this.policyDetailsShow=!1,this.claimSheetShow=!0,this.handleNfts="handle-nfts-nobackground"},backToDetails(){this.policyDetailsShow=!0,this.claimSheetShow=!1,this.handleNfts="handle-nfts"},async doTransferMedal(){if(""==this.transferToAddress)Fn.ZP.error("Please enter the address which will receive this certificate.");else{var e=xe.state.web3Utils.currentAddressComp;let t=this.poolAddress,n=this.transferToAddress,a=this.nftIndex,i=await qn(),s=parseInt(i?.data?.result?.gasLimit,16),o=parseInt(i?.data?.result?.gasPrice,16);await xe.dispatch("transferCertificate",{poolAddress:t,from:e,to:n,certificateId:a,gasLimit:s,gasPrice:o}).then((e=>{"Transferring certificate failed"==e?console.log(e):(xe.state.web3Data.medalArr.splice(this.policyIndex,1),this.$emit("close"))}),(e=>{console.log(e)}))}},async doRemoveLiquidityAfterExit(){let e=this.poolAddress,t=this.nftIndex,n=await qn(),a=parseInt(n?.data?.result?.gasLimit,16),i=parseInt(n?.data?.result?.gasPrice,16);await xe.dispatch("removeLiquidityAfterExit",{poolAddress:e,certificateId:t,gasLimit:a,gasPrice:i})}}};const nr=(0,Ne.Z)(tr,[["render",er],["__scopeId","data-v-71d7d8a2"]]);var ar=nr,ir={name:"certificateNfts",components:{HandleNftsMedalsModal:ar,Pagination:Ta.ZP},data(){return{visible:!1,content:"i am nft",nftIndex:0,nftsInPageStart:0,nftsInPageEnd:9,current:1,pageSize:9,liquidityOfCertificate:0,poolNameOfCertificate:"",poolAddressOfCertificate:"",poolAddress:"",medalValues:"",policyIndex:"",BigNumber:Q.Z}},methods:{onPaginationChange(e,t){this.current=e,this.pageSize=t,this.nftsInPageStart=(e-1)*t,this.nftsInPageEnd=e*t},pageUp(){this.nftsInPageStart+9>=this.arr.length||(this.nftsInPageStart+=9,this.nftsInPageEnd+=9)},pageDown(){this.nftsInPageEnd-9<=0||(this.nftsInPageStart-=9,this.nftsInPageEnd-=9)},handleNftsMedalsInit(){this.$refs.handleNftsMedals.backToDetails()},async getMedalValues(e){let t=xe.state.web3Data.medalArr[e].certificateId,n=xe.state.web3Data.medalArr[e].protocol;await xe.dispatch("calculateMedalValues",{medalId:t,poolAddress:n})}},computed:{insertBlock(){if(this.nftsInPageStart+9<=this.arr.length)return!1;{let e=this.nftsInPageEnd-this.arr.length;return e%3==1}},arr(){let e=xe.state.web3Data.medalArr,t=e.length;for(var n=0;n<t;n++){let t=e[n].protocol.toLowerCase();e[n]["poolName"]=xe.state.web3Data.poolAddressArr[t]?.Protected,e[n]["poolImage"]=xe.state.web3Data.poolAddressArr[t]?.protocolImage}return console.log("medals",e),e},medalSPS(){let e=xe.state.web3Data.medalSPS;return e},medalWithdraw(){let e=xe.state.web3Data.medalWithdraw;return e}},mounted(){xe.dispatch("getMedalNfts"),window.ethereum.on("accountsChanged",(()=>{xe.dispatch("getMedalNfts")}))}};const sr=(0,Ne.Z)(ir,[["render",Mo]]);var or=sr;const rr={class:"mining-container"};function lr(e,t,n,a,i,o){return(0,s.wg)(),(0,s.iD)("div",rr,"Coming Soon ...")}var dr={name:"MiningPage",data(){return{}},computed:{},watch:{},mounted(){},methods:{},unmounted(){}};const cr=(0,Ne.Z)(dr,[["render",lr],["__scopeId","data-v-1cd6ea63"]]);var pr=cr;const ur=(0,Fe.p7)({history:(0,Fe.r5)(),routes:[{path:"/",redirect:"/dashboard"},{path:"/dashboard",name:"DashboardIns",component:et},{path:"/protection",name:"ProtectionIns",component:_t,children:[{path:":protectionBtc",name:"protectionBtc",component:Rn}]},{path:"/governance",name:"governancePage",component:Os},{path:"/stake",name:"StakePage",component:yo},{path:"/nftPortfolio",name:"nftPortfolio",component:Qn,children:[{path:"/nftPortfolio",redirect:"/nftPortfolio/policyNfts"},{path:"policyNfts",name:"policyNfts",component:fi},{path:"certificateNfts",name:"certificateNfts",component:ls},{path:"medalNfts",name:"medalNfts",component:or}]},{path:"/mining",name:"MiningPage",component:pr}]});ur.beforeEach(((e,t,n)=>{document.body.scrollTop=0,document.documentElement.scrollTop=0,n()}));var yr=ur;let mr=(0,i.ri)(Ue);mr.config.globalProperties.$moment=Oe(),mr.use(yr),mr.use(a.Z),mr.mount("#app")},6601:function(){}},t={};function n(a){var i=t[a];if(void 0!==i)return i.exports;var s=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.m=e,function(){n.amdO={}}(),function(){var e=[];n.O=function(t,a,i,s){if(!a){var o=1/0;for(c=0;c<e.length;c++){a=e[c][0],i=e[c][1],s=e[c][2];for(var r=!0,l=0;l<a.length;l++)(!1&s||o>=s)&&Object.keys(n.O).every((function(e){return n.O[e](a[l])}))?a.splice(l--,1):(r=!1,s<o&&(o=s));if(r){e.splice(c--,1);var d=i();void 0!==d&&(t=d)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[a,i,s]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){n.p="/acaladapp/"}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var i,s,o=a[0],r=a[1],l=a[2],d=0;if(o.some((function(t){return 0!==e[t]}))){for(i in r)n.o(r,i)&&(n.m[i]=r[i]);if(l)var c=l(n)}for(t&&t(a);d<o.length;d++)s=o[d],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(c)},a=self["webpackChunkmddapp"]=self["webpackChunkmddapp"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(7040)}));a=n.O(a)})();